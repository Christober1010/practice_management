(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{308:(e,s,a)=>{"use strict";a.d(s,{default:()=>s6});var t=a(5155),l=a(2115),r=a(3568),i=a(9708),n=a(2085),d=a(2596),c=a(9688);function o(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,c.QP)((0,d.$)(s))}let m=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),x=l.forwardRef((e,s)=>{let{className:a,variant:l,size:r,asChild:n=!1,...d}=e,c=n?i.DX:"button";return(0,t.jsx)(c,{className:o(m({variant:l,size:r,className:a})),ref:s,...d})});x.displayName="Button";let h=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:o("rounded-lg border bg-card text-card-foreground shadow-sm",a),...l})});h.displayName="Card";let u=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:o("flex flex-col space-y-1.5 p-6",a),...l})});u.displayName="CardHeader";let p=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:o("text-2xl font-semibold leading-none tracking-tight",a),...l})});p.displayName="CardTitle";let f=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:o("text-sm text-muted-foreground",a),...l})});f.displayName="CardDescription";let g=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:o("p-6 pt-0",a),...l})});g.displayName="CardContent",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:o("flex items-center p-6 pt-0",a),...l})}).displayName="CardFooter";let j=l.forwardRef((e,s)=>{let{className:a,type:l,...r}=e;return(0,t.jsx)("input",{type:l,className:o("mt-2 flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-teal-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...r})});j.displayName="Input";var v=a(968);let b=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),N=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(v.b,{ref:s,className:o(b(),a),...l})});N.displayName=v.b.displayName;var y=a(8749),w=a(2657),_=a(5525),A=a(7924),S=a(3861),C=a(1007),T=a(2432),k=a(7489);let E=l.forwardRef((e,s)=>{let{className:a,orientation:l="horizontal",decorative:r=!0,...i}=e;return(0,t.jsx)(k.b,{ref:s,decorative:r,orientation:l,className:o("shrink-0 bg-border","horizontal"===l?"h-[1px] w-full":"h-full w-[1px]",a),...i})});E.displayName=k.b.displayName;var D=a(5452),R=a(4416);let I=D.bL;D.l9,D.bm;let P=D.ZL,z=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(D.hJ,{className:o("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l,ref:s})});z.displayName=D.hJ.displayName;let M=(0,n.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),F=l.forwardRef((e,s)=>{let{side:a="right",className:l,children:r,...i}=e;return(0,t.jsxs)(P,{children:[(0,t.jsx)(z,{}),(0,t.jsxs)(D.UC,{ref:s,className:o(M({side:a}),l),...i,children:[r,(0,t.jsxs)(D.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,t.jsx)(R.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});function O(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:o("animate-pulse rounded-md bg-muted",s),...a})}F.displayName=D.UC.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(D.hE,{ref:s,className:o("text-lg font-semibold text-foreground",a),...l})}).displayName=D.hE.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(D.VY,{ref:s,className:o("text-sm text-muted-foreground",a),...l})}).displayName=D.VY.displayName;var B=a(9613);let L=B.Kq,q=B.bL,V=B.l9,U=l.forwardRef((e,s)=>{let{className:a,sideOffset:l=4,...r}=e;return(0,t.jsx)(B.UC,{ref:s,sideOffset:l,className:o("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})});U.displayName=B.UC.displayName;let Z=l.createContext(null);function J(){let e=l.useContext(Z);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}let G=l.forwardRef((e,s)=>{let{defaultOpen:a=!0,open:r,onOpenChange:i,className:n,style:d,children:c,...m}=e,x=function(){let[e,s]=l.useState(void 0);return l.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),a=()=>{s(window.innerWidth<768)};return e.addEventListener("change",a),s(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}(),[h,u]=l.useState(!1),[p,f]=l.useState(a),g=null!=r?r:p,j=l.useCallback(e=>{let s="function"==typeof e?e(g):e;i?i(s):f(s),document.cookie="".concat("sidebar:state","=").concat(s,"; path=/; max-age=").concat(604800)},[i,g]),v=l.useCallback(()=>x?u(e=>!e):j(e=>!e),[x,j,u]);l.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),v())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[v]);let b=g?"expanded":"collapsed",N=l.useMemo(()=>({state:b,open:g,setOpen:j,isMobile:x,openMobile:h,setOpenMobile:u,toggleSidebar:v}),[b,g,j,x,h,u,v]);return(0,t.jsx)(Z.Provider,{value:N,children:(0,t.jsx)(L,{delayDuration:0,children:(0,t.jsx)("div",{style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...d},className:o("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:s,...m,children:c})})})});G.displayName="SidebarProvider";let Y=l.forwardRef((e,s)=>{let{side:a="left",variant:l="sidebar",collapsible:r="offcanvas",className:i,children:n,...d}=e,{isMobile:c,state:m,openMobile:x,setOpenMobile:h}=J();return"none"===r?(0,t.jsx)("div",{className:o("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",i),ref:s,...d,children:n}):c?(0,t.jsx)(I,{open:x,onOpenChange:h,...d,children:(0,t.jsx)(F,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:a,children:(0,t.jsx)("div",{className:"flex h-full w-full flex-col",children:n})})}):(0,t.jsxs)("div",{ref:s,className:"group peer hidden md:block text-sidebar-foreground","data-state":m,"data-collapsible":"collapsed"===m?r:"","data-variant":l,"data-side":a,children:[(0,t.jsx)("div",{className:o("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===l||"inset"===l?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),(0,t.jsx)("div",{className:o("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex","left"===a?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===l||"inset"===l?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",i),...d,children:(0,t.jsx)("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:n})})]})});Y.displayName="Sidebar";let W=l.forwardRef((e,s)=>{let{className:a,onClick:l,...r}=e,{toggleSidebar:i}=J();return(0,t.jsxs)(x,{ref:s,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:o("h-7 w-7",a),onClick:e=>{null==l||l(e),i()},...r,children:[(0,t.jsx)(T.A,{}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})});W.displayName="SidebarTrigger";let H=l.forwardRef((e,s)=>{let{className:a,...l}=e,{toggleSidebar:r}=J();return(0,t.jsx)("button",{ref:s,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:o("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",a),...l})});H.displayName="SidebarRail",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("main",{ref:s,className:o("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",a),...l})}).displayName="SidebarInset",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(j,{ref:s,"data-sidebar":"input",className:o("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",a),...l})}).displayName="SidebarInput";let $=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,"data-sidebar":"header",className:o("flex flex-col gap-2 p-2",a),...l})});$.displayName="SidebarHeader";let K=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,"data-sidebar":"footer",className:o("flex flex-col gap-2 p-2",a),...l})});K.displayName="SidebarFooter",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(E,{ref:s,"data-sidebar":"separator",className:o("mx-2 w-auto bg-sidebar-border",a),...l})}).displayName="SidebarSeparator";let Q=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,"data-sidebar":"content",className:o("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",a),...l})});Q.displayName="SidebarContent";let X=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,"data-sidebar":"group",className:o("relative flex w-full min-w-0 flex-col p-2",a),...l})});X.displayName="SidebarGroup",l.forwardRef((e,s)=>{let{className:a,asChild:l=!1,...r}=e,n=l?i.DX:"div";return(0,t.jsx)(n,{ref:s,"data-sidebar":"group-label",className:o("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",a),...r})}).displayName="SidebarGroupLabel",l.forwardRef((e,s)=>{let{className:a,asChild:l=!1,...r}=e,n=l?i.DX:"button";return(0,t.jsx)(n,{ref:s,"data-sidebar":"group-action",className:o("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",a),...r})}).displayName="SidebarGroupAction",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,"data-sidebar":"group-content",className:o("w-full text-sm",a),...l})}).displayName="SidebarGroupContent";let ee=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("ul",{ref:s,"data-sidebar":"menu",className:o("flex w-full min-w-0 flex-col gap-1",a),...l})});ee.displayName="SidebarMenu";let es=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("li",{ref:s,"data-sidebar":"menu-item",className:o("group/menu-item relative",a),...l})});es.displayName="SidebarMenuItem";let ea=(0,n.F)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),et=l.forwardRef((e,s)=>{let{asChild:a=!1,isActive:l=!1,variant:r="default",size:n="default",tooltip:d,className:c,...m}=e,x=a?i.DX:"button",{isMobile:h,state:u}=J(),p=(0,t.jsx)(x,{ref:s,"data-sidebar":"menu-button","data-size":n,"data-active":l,className:o(ea({variant:r,size:n}),c),...m});return d?("string"==typeof d&&(d={children:d}),(0,t.jsxs)(q,{children:[(0,t.jsx)(V,{asChild:!0,children:p}),(0,t.jsx)(U,{side:"right",align:"center",hidden:"collapsed"!==u||h,...d})]})):p});function el(e){let{userRole:s,onLogout:a}=e,r=(()=>{switch(s.role){case"admin":return{title:"Administrator",subtitle:"System Management"};case"bcba":return{title:"BCBA",subtitle:"Clinical Supervision"};case"rbt":return{title:"RBT",subtitle:"Therapy Services"};case"parent":return{title:"Parent Portal",subtitle:"Child Progress Tracking"};default:return{title:"User",subtitle:"Dashboard"}}})(),[i,n]=(0,l.useState)(!1);return(0,t.jsxs)("header",{className:"bg-white shadow-sm border-b border-slate-200 h-16 flex items-center justify-between px-6",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(W,{className:"mr-4 lg:hidden"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-semibold text-slate-800",children:r.title}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:r.subtitle})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"relative hidden md:block",children:[(0,t.jsx)(A.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,t.jsx)(j,{placeholder:"Search...",className:"pl-10 w-64 border-slate-200 focus:border-teal-500 focus:ring-teal-500"})]}),(0,t.jsxs)(x,{variant:"ghost",size:"sm",className:"relative",children:[(0,t.jsx)(S.A,{className:"h-5 w-5 text-slate-600"}),(0,t.jsx)("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 cursor-pointer",onClick:()=>n(!i),children:[(0,t.jsxs)("div",{className:"text-right hidden sm:block",children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-slate-800",children:[s.first_name," ",s.last_name]}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:r.title})]}),(0,t.jsx)("div",{className:"h-10 w-10 bg-teal-600 rounded-full flex items-center justify-center shadow-md",children:(0,t.jsx)(C.A,{className:"h-5 w-5 text-white"})})]}),i&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white shadow-lg rounded-lg border p-4 z-50",children:[(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("p",{className:"font-semibold text-slate-800",children:[s.first_name," ",s.last_name]}),(0,t.jsxs)("p",{className:"text-sm text-slate-500 mt-2",children:["Email: ",s.email]}),(0,t.jsxs)("p",{className:"text-sm text-slate-500 capitalize",children:["Role: ",s.role]})]}),(0,t.jsx)("button",{onClick:a,className:"w-full bg-red-500 hover:bg-red-600 text-white py-1.5 px-3 rounded text-sm",children:"Log Out"})]})]})]})]})}et.displayName="SidebarMenuButton",l.forwardRef((e,s)=>{let{className:a,asChild:l=!1,showOnHover:r=!1,...n}=e,d=l?i.DX:"button";return(0,t.jsx)(d,{ref:s,"data-sidebar":"menu-action",className:o("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",a),...n})}).displayName="SidebarMenuAction",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,"data-sidebar":"menu-badge",className:o("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",a),...l})}).displayName="SidebarMenuBadge",l.forwardRef((e,s)=>{let{className:a,showIcon:r=!1,...i}=e,n=l.useMemo(()=>"".concat(Math.floor(40*Math.random())+50,"%"),[]);return(0,t.jsxs)("div",{ref:s,"data-sidebar":"menu-skeleton",className:o("rounded-md h-8 flex gap-2 px-2 items-center",a),...i,children:[r&&(0,t.jsx)(O,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),(0,t.jsx)(O,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":n}})]})}).displayName="SidebarMenuSkeleton",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("ul",{ref:s,"data-sidebar":"menu-sub",className:o("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",a),...l})}).displayName="SidebarMenuSub",l.forwardRef((e,s)=>{let{...a}=e;return(0,t.jsx)("li",{ref:s,...a})}).displayName="SidebarMenuSubItem",l.forwardRef((e,s)=>{let{asChild:a=!1,size:l="md",isActive:r,className:n,...d}=e,c=a?i.DX:"a";return(0,t.jsx)(c,{ref:s,"data-sidebar":"menu-sub-button","data-size":l,"data-active":r,className:o("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===l&&"text-xs","md"===l&&"text-sm","group-data-[collapsible=icon]:hidden",n),...d})}).displayName="SidebarMenuSubButton";var er=a(7580),ei=a(1586),en=a(9074),ed=a(9397),ec=a(5339),eo=a(3109);function em(e){let{title:s,value:a,change:l,changeType:r,icon:i,color:n}=e;return(0,t.jsx)(h,{className:"shadow-lg border-0 hover:shadow-xl transition-shadow duration-200",children:(0,t.jsx)(g,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-slate-600 mb-1",children:s}),(0,t.jsx)("p",{className:"text-3xl font-bold text-slate-800 mb-2",children:a}),(0,t.jsxs)("p",{className:"text-sm font-medium ".concat((()=>{switch(r){case"positive":return"text-emerald-600";case"negative":return"text-red-600";case"warning":return"text-amber-600";default:return"text-slate-500"}})()),children:[(()=>{switch(r){case"positive":return"↗";case"negative":return"↘";case"warning":return"⚠";default:return""}})()," ",l]})]}),(0,t.jsx)("div",{className:"".concat(n," p-4 rounded-xl shadow-md"),children:(0,t.jsx)(i,{className:"h-6 w-6 text-white"})})]})})})}function ex(e){let{activities:s}=e;return(0,t.jsx)("div",{className:"space-y-4",children:s.map((e,s)=>{let a=e.icon;return(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-xl ".concat(e.color),children:(0,t.jsx)(a,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-slate-800",children:e.title}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:e.description})]})]},s)})})}function eh(){let e=[{title:"Active Clients",value:"127",change:"+12%",changeType:"positive",icon:er.A,color:"bg-teal-500"},{title:"Monthly Revenue",value:"$48,392",change:"+8%",changeType:"positive",icon:ei.A,color:"bg-emerald-500"},{title:"Active Staff",value:"23",change:"2 new hires",changeType:"neutral",icon:er.A,color:"bg-blue-500"},{title:"Sessions Today",value:"34",change:"6 pending",changeType:"neutral",icon:en.A,color:"bg-indigo-500"}],s=[{type:"client",title:"New client enrolled",description:"Sarah Johnson - 2 hours ago",icon:er.A,color:"bg-teal-100 text-teal-600"},{type:"session",title:"Session note approved",description:"Alex Thompson - 4 hours ago",icon:ed.A,color:"bg-green-100 text-green-600"},{type:"billing",title:"Invoice payment received",description:"$1,250 - 6 hours ago",icon:ei.A,color:"bg-emerald-100 text-emerald-600"}];return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-slate-800",children:"Admin Dashboard"}),(0,t.jsx)("p",{className:"text-slate-600 mt-1",children:"System overview and management"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((e,s)=>(0,t.jsx)(em,{...e},s))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsxs)(p,{className:"text-slate-800 flex items-center",children:[(0,t.jsx)(ed.A,{className:"h-5 w-5 mr-2 text-teal-600"}),"Recent Activity"]})}),(0,t.jsx)(g,{children:(0,t.jsx)(ex,{activities:s})})]}),(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsxs)(p,{className:"text-slate-800 flex items-center",children:[(0,t.jsx)(ec.A,{className:"h-5 w-5 mr-2 text-amber-600"}),"System Notices"]})}),(0,t.jsx)(g,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-amber-800",children:"Scheduled Maintenance"}),(0,t.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"System update planned for Sunday 2 AM EST"})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-blue-800",children:"New Feature Available"}),(0,t.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Enhanced data collection tools now live"})]}),(0,t.jsxs)("div",{className:"bg-teal-50 border border-teal-200 rounded-xl p-4",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-teal-800",children:"Training Reminder"}),(0,t.jsx)("p",{className:"text-xs text-teal-600 mt-1",children:"Monthly HIPAA compliance training due"})]})]})})]})]}),(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{children:(0,t.jsxs)(p,{className:"text-slate-800 flex items-center",children:[(0,t.jsx)(eo.A,{className:"h-5 w-5 mr-2 text-teal-600"}),"Performance Overview"]})}),(0,t.jsx)(g,{children:(0,t.jsx)("div",{className:"h-64 bg-slate-50 rounded-xl flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-slate-500",children:"Performance charts will be displayed here"})})})]})]})}var eu=a(7434),ep=a(4186),ef=a(1243),eg=a(646);function ej(){let e=[{title:"My Clients",value:"18",change:"Active cases",changeType:"neutral",icon:er.A,color:"bg-teal-500"},{title:"Pending Approvals",value:"7",change:"Requires review",changeType:"warning",icon:eu.A,color:"bg-amber-500"},{title:"Supervision Hours",value:"12.5",change:"This month",changeType:"positive",icon:ep.A,color:"bg-blue-500"}];return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-slate-800",children:"BCBA Dashboard"}),(0,t.jsx)("p",{className:"text-slate-600 mt-1",children:"Clinical supervision and oversight"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((e,s)=>(0,t.jsx)(em,{...e},s))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsxs)(p,{className:"text-slate-800 flex items-center",children:[(0,t.jsx)(en.A,{className:"h-5 w-5 mr-2 text-teal-600"}),"Today's Sessions"]})}),(0,t.jsx)(g,{children:(0,t.jsx)("div",{className:"space-y-4",children:[{client:"Emma Wilson",time:"10:00 AM - 11:30 AM",status:"In Progress",statusColor:"bg-green-100 text-green-800"},{client:"Michael Chen",time:"2:00 PM - 3:30 PM",status:"Upcoming",statusColor:"bg-blue-100 text-blue-800"},{client:"Alex Rodriguez",time:"4:00 PM - 5:30 PM",status:"Scheduled",statusColor:"bg-slate-100 text-slate-800"}].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-slate-800",children:e.client}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:e.time})]}),(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(e.statusColor),children:e.status})]},s))})})]}),(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsxs)(p,{className:"text-slate-800 flex items-center",children:[(0,t.jsx)(ep.A,{className:"h-5 w-5 mr-2 text-blue-600"}),"Supervision Tracker"]})}),(0,t.jsxs)(g,{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Monthly Goal Progress"}),(0,t.jsx)("span",{className:"font-medium text-slate-800",children:"12.5 / 20 hours"})]}),(0,t.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-3",children:(0,t.jsx)("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:"62%"}})})]}),(0,t.jsx)("div",{className:"bg-blue-50 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-blue-800",children:"Next Supervision"}),(0,t.jsx)("p",{className:"text-sm text-blue-600",children:"Tomorrow 3:00 PM"}),(0,t.jsx)("p",{className:"text-xs text-blue-500",children:"RBT: Jessica Martinez"})]}),(0,t.jsx)(x,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:"View Details"})]})})]})]})]}),(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsxs)(p,{className:"text-slate-800 flex items-center",children:[(0,t.jsx)(ef.A,{className:"h-5 w-5 mr-2 text-amber-600"}),"Pending Session Approvals"]})}),(0,t.jsx)(g,{children:(0,t.jsx)("div",{className:"space-y-3",children:[{client:"Alex Rodriguez",rbt:"Sarah Johnson",date:"Jan 25, 2024",type:"Session Note"},{client:"Emma Wilson",rbt:"Jessica Martinez",date:"Jan 24, 2024",type:"Data Collection"},{client:"Michael Chen",rbt:"David Park",date:"Jan 24, 2024",type:"Session Note"}].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-xl",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-medium text-slate-800",children:[e.client," - ",e.type]}),(0,t.jsxs)("p",{className:"text-sm text-slate-600",children:["RBT: ",e.rbt," • ",e.date]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(x,{variant:"outline",size:"sm",className:"border-slate-300 bg-transparent",children:"Review"}),(0,t.jsxs)(x,{size:"sm",className:"bg-teal-600 hover:bg-teal-700",children:[(0,t.jsx)(eg.A,{className:"h-4 w-4 mr-1"}),"Approve"]})]})]},s))})})]})]})}var ev=a(4516);function eb(){let e=[{title:"Today's Sessions",value:"6",change:"2 completed",changeType:"positive",icon:en.A,color:"bg-teal-500"},{title:"Assigned Clients",value:"8",change:"Active cases",changeType:"neutral",icon:er.A,color:"bg-blue-500"},{title:"Pending Notes",value:"3",change:"Due today",changeType:"warning",icon:eu.A,color:"bg-amber-500"}],s=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"in-progress":return"bg-blue-100 text-blue-800";default:return"bg-slate-100 text-slate-800"}},a=e=>{switch(e){case"completed":return"Completed";case"in-progress":return"In Progress";case"upcoming":return"Upcoming";default:return"Scheduled"}};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-slate-800",children:"RBT Dashboard"}),(0,t.jsx)("p",{className:"text-slate-600 mt-1",children:"Your daily schedule and client assignments"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((e,s)=>(0,t.jsx)(em,{...e},s))}),(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(p,{className:"text-slate-800 flex items-center",children:[(0,t.jsx)(ep.A,{className:"h-5 w-5 mr-2 text-teal-600"}),"Today's Schedule"]}),(0,t.jsx)("div",{className:"text-sm text-slate-500",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})}),(0,t.jsx)(g,{children:(0,t.jsx)("div",{className:"space-y-4",children:[{client:"Alex Rodriguez",time:"9:00 AM - 10:30 AM",location:"Home Visit",status:"completed",address:"123 Oak Street"},{client:"Sophia Kim",time:"11:00 AM - 12:30 PM",location:"Clinic",status:"in-progress",address:"ABA Center - Room 3"},{client:"Emma Wilson",time:"2:00 PM - 3:30 PM",location:"School",status:"upcoming",address:"Lincoln Elementary"},{client:"Michael Chen",time:"4:00 PM - 5:30 PM",location:"Home Visit",status:"upcoming",address:"456 Pine Avenue"}].map((e,l)=>(0,t.jsx)("div",{className:"border border-slate-200 rounded-xl p-5 hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"bg-teal-100 p-3 rounded-xl",children:(0,t.jsx)(er.A,{className:"h-5 w-5 text-teal-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-slate-800",children:e.client}),(0,t.jsxs)("p",{className:"text-sm text-slate-600 flex items-center mt-1",children:[(0,t.jsx)(ep.A,{className:"h-4 w-4 mr-1"}),e.time]}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 flex items-center mt-1",children:[(0,t.jsx)(ev.A,{className:"h-3 w-3 mr-1"}),e.location," • ",e.address]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(s(e.status)),children:a(e.status)}),"completed"!==e.status&&(0,t.jsx)(x,{size:"sm",className:"bg-teal-600 hover:bg-teal-700",children:"in-progress"===e.status?"Continue":"Start Session"})]})]})},l))})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsx)(p,{className:"text-slate-800",children:"Quick Actions"})}),(0,t.jsxs)(g,{className:"space-y-3",children:[(0,t.jsxs)(x,{className:"w-full justify-start bg-teal-600 hover:bg-teal-700",children:[(0,t.jsx)(eu.A,{className:"h-4 w-4 mr-2"}),"Complete Session Note"]}),(0,t.jsxs)(x,{variant:"outline",className:"w-full justify-start border-slate-300 bg-transparent",children:[(0,t.jsx)(en.A,{className:"h-4 w-4 mr-2"}),"View Weekly Schedule"]}),(0,t.jsxs)(x,{variant:"outline",className:"w-full justify-start border-slate-300 bg-transparent",children:[(0,t.jsx)(er.A,{className:"h-4 w-4 mr-2"}),"Client Progress Reports"]})]})]}),(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsx)(p,{className:"text-slate-800",children:"Recent Updates"})}),(0,t.jsxs)(g,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Treatment Plan Updated"}),(0,t.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Alex Rodriguez - New goals added by BCBA"})]}),(0,t.jsxs)("div",{className:"bg-green-50 rounded-xl p-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-green-800",children:"Session Approved"}),(0,t.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"Emma Wilson session note approved"})]})]})]})]})]})}var eN=a(1976);function ey(e){let{progress:s,color:a,height:l="h-3"}=e;return(0,t.jsx)("div",{className:"w-full bg-slate-200 rounded-full ".concat(l),children:(0,t.jsx)("div",{className:"".concat(a," ").concat(l," rounded-full transition-all duration-500 ease-out"),style:{width:"".concat(Math.min(s,100),"%")}})})}function ew(){let e=[{title:"This Week's Sessions",value:"4",change:"2 completed",changeType:"positive",icon:en.A,color:"bg-teal-500"},{title:"Goals Mastered",value:"12",change:"3 this month",changeType:"positive",icon:eo.A,color:"bg-emerald-500"},{title:"Outstanding Balance",value:"$0",change:"All paid",changeType:"positive",icon:ei.A,color:"bg-green-500"}];return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-teal-50 to-blue-50 rounded-2xl p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"bg-teal-600 p-3 rounded-xl",children:(0,t.jsx)(eN.A,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-slate-800",children:"Welcome Back!"}),(0,t.jsx)("p",{className:"text-slate-600 mt-1",children:"Track your child's progress and upcoming sessions"})]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((e,s)=>(0,t.jsx)(em,{...e},s))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsxs)(p,{className:"text-slate-800 flex items-center",children:[(0,t.jsx)(en.A,{className:"h-5 w-5 mr-2 text-teal-600"}),"Upcoming Sessions"]})}),(0,t.jsx)(g,{children:(0,t.jsx)("div",{className:"space-y-4",children:[{type:"ABA Therapy Session",time:"Tomorrow 2:00 PM - 3:30 PM",therapist:"Sarah Johnson, RBT",location:"Home Visit"},{type:"BCBA Supervision",time:"Friday 10:00 AM - 11:00 AM",therapist:"Dr. Emily Chen, BCBA",location:"Clinic"}].map((e,s)=>(0,t.jsx)("div",{className:"bg-slate-50 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-semibold text-slate-800",children:e.type}),(0,t.jsxs)("p",{className:"text-sm text-slate-600 flex items-center mt-1",children:[(0,t.jsx)(ep.A,{className:"h-4 w-4 mr-1"}),e.time]}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["with ",e.therapist," • ",e.location]})]}),(0,t.jsx)("div",{className:"bg-teal-100 text-teal-800 px-3 py-1 rounded-full text-xs font-medium",children:"Confirmed"})]})},s))})})]}),(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsxs)(p,{className:"text-slate-800 flex items-center",children:[(0,t.jsx)(eo.A,{className:"h-5 w-5 mr-2 text-emerald-600"}),"Progress Overview"]})}),(0,t.jsx)(g,{children:(0,t.jsx)("div",{className:"space-y-6",children:[{name:"Communication Goals",progress:85,color:"bg-emerald-600"},{name:"Social Skills",progress:72,color:"bg-blue-600"},{name:"Daily Living Skills",progress:68,color:"bg-amber-600"},{name:"Academic Skills",progress:78,color:"bg-purple-600"}].map((e,s)=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,t.jsx)("span",{className:"font-medium text-slate-700",children:e.name}),(0,t.jsxs)("span",{className:"text-slate-600",children:[e.progress,"%"]})]}),(0,t.jsx)(ey,{progress:e.progress,color:e.color})]},s))})})]})]}),(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsxs)(p,{className:"text-slate-800 flex items-center",children:[(0,t.jsx)(eu.A,{className:"h-5 w-5 mr-2 text-blue-600"}),"Recent Session Reports"]})}),(0,t.jsx)(g,{children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{title:"ABA Therapy Session",date:"Jan 25, 2024",duration:"90 minutes",therapist:"Sarah Johnson, RBT",summary:"Great progress on communication goals. Alex showed increased verbal requests and improved social interaction during structured activities. Worked on daily living skills with 85% accuracy."},{title:"BCBA Supervision Note",date:"Jan 22, 2024",duration:"60 minutes",therapist:"Dr. Emily Chen, BCBA",summary:"Treatment plan review and goal adjustments. Recommend increasing social interaction targets and introducing new daily living skills. Parent training session scheduled for next week."}].map((e,s)=>(0,t.jsxs)("div",{className:"bg-slate-50 rounded-xl p-5",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-slate-800",children:e.title}),(0,t.jsxs)("p",{className:"text-sm text-slate-600",children:[e.date," • ",e.duration]}),(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["with ",e.therapist]})]}),(0,t.jsx)(x,{variant:"outline",size:"sm",className:"border-slate-300 bg-transparent",children:"Download"})]}),(0,t.jsx)("p",{className:"text-sm text-slate-600 leading-relaxed",children:e.summary})]},s))})})]})]})}var e_=a(2355),eA=a(3052),eS=a(4616),eC=a(3717);let eT=D.bL;D.l9;let ek=D.ZL;D.bm;let eE=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(D.hJ,{ref:s,className:o("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});eE.displayName=D.hJ.displayName;let eD=l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(ek,{children:[(0,t.jsx)(eE,{}),(0,t.jsxs)(D.UC,{ref:s,className:o("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r,children:[l,(0,t.jsxs)(D.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(R.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});eD.displayName=D.UC.displayName;let eR=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:o("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};eR.displayName="DialogHeader";let eI=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(D.hE,{ref:s,className:o("text-lg font-semibold leading-none tracking-tight",a),...l})});eI.displayName=D.hE.displayName;let eP=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(D.VY,{ref:s,className:o("text-sm text-muted-foreground",a),...l})});eP.displayName=D.VY.displayName;var ez=a(704);let eM=ez.bL,eF=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(ez.B8,{ref:s,className:o("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...l})});eF.displayName=ez.B8.displayName;let eO=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(ez.l9,{ref:s,className:o("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...l})});eO.displayName=ez.l9.displayName;let eB=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(ez.UC,{ref:s,className:o("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...l})});eB.displayName=ez.UC.displayName;var eL=a(4582),eq=a(6474),eV=a(7863),eU=a(5196);let eZ=eL.bL;eL.YJ;let eJ=eL.WT,eG=l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(eL.l9,{ref:s,className:o("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...r,children:[l,(0,t.jsx)(eL.In,{asChild:!0,children:(0,t.jsx)(eq.A,{className:"h-4 w-4 opacity-50"})})]})});eG.displayName=eL.l9.displayName;let eY=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(eL.PP,{ref:s,className:o("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(eV.A,{className:"h-4 w-4"})})});eY.displayName=eL.PP.displayName;let eW=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(eL.wn,{ref:s,className:o("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(eq.A,{className:"h-4 w-4"})})});eW.displayName=eL.wn.displayName;let eH=l.forwardRef((e,s)=>{let{className:a,children:l,position:r="popper",...i}=e;return(0,t.jsx)(eL.ZL,{children:(0,t.jsxs)(eL.UC,{ref:s,className:o("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r,...i,children:[(0,t.jsx)(eY,{}),(0,t.jsx)(eL.LM,{className:o("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,t.jsx)(eW,{})]})})});eH.displayName=eL.UC.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(eL.JU,{ref:s,className:o("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...l})}).displayName=eL.JU.displayName;let e$=l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(eL.q7,{ref:s,className:o("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(eL.VF,{children:(0,t.jsx)(eU.A,{className:"h-4 w-4"})})}),(0,t.jsx)(eL.p4,{children:l})]})});e$.displayName=eL.q7.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(eL.wv,{ref:s,className:o("-mx-1 my-1 h-px bg-muted",a),...l})}).displayName=eL.wv.displayName;let eK=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("textarea",{className:o("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...l})});eK.displayName="Textarea";let eQ=["UTC","America/New_York","America/Chicago","America/Denver","America/Los_Angeles","Europe/London","Europe/Berlin","Asia/Kolkata","Asia/Singapore","Australia/Sydney"],eX={clientId:"",provider:"",supervisingProvider:"",recurring:"No",placeOfService:"Clinic",locationAddress:"",quickNote:"",startDateTime:"",startTZ:"",endDateTime:"",endTZ:"",authCode:""},e0="https://www.mahabehavioralhealth.com/mahaverse-backend-test";function e1(e){var s;let{isOpen:a,onClose:i,onSave:n,editingSession:d=null,selectedDate:c=null,clients:o=[]}=e,[m,f]=(0,l.useState)(eX),[v,b]=(0,l.useState)({}),[y,w]=(0,l.useState)("scheduling"),[_,A]=(0,l.useState)([]),[S,C]=(0,l.useState)(!1),T=["scheduling","notes"];(0,l.useEffect)(()=>{a&&!(_.length>0)&&(async()=>{C(!0);try{let e=await fetch("".concat(e0,"/staff.php")),s=await e.json();if(s.staff_records&&Array.isArray(s.staff_records)){let e=s.staff_records.filter(e=>"Active"===e.status&&"1"!==e.archived);A(e)}else A([])}catch(e){console.error("Error fetching staff:",e),r.Ay.error("Failed to load providers"),A([])}finally{C(!1)}})()},[a,e0]),(0,l.useEffect)(()=>{if(!a)return;let e=Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC";f(s=>({...s,startTZ:s.startTZ||e,endTZ:s.endTZ||e}))},[a]),(0,l.useEffect)(()=>{if(a){if(d){console.log("[v0] Editing session data:",d),f({clientId:d.clientId||"",provider:d.providerId||"",supervisingProvider:d.supervisingProviderId||"",recurring:d.recurring||"No",placeOfService:d.placeOfService||"Clinic",locationAddress:d.locationAddress||"",quickNote:d.quickNote||"",startDateTime:d.startDateTime?new Date(d.startDateTime).toISOString().slice(0,16):"",startTZ:d.startTZ||Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",endDateTime:d.endDateTime?new Date(d.endDateTime).toISOString().slice(0,16):"",endTZ:d.endTZ||Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",authCode:d.authCode||""}),w("scheduling");return}if(c){let e=c.getFullYear(),s=String(c.getMonth()+1).padStart(2,"0"),a=String(c.getDate()).padStart(2,"0"),t="".concat(e,"-").concat(s,"-").concat(a,"T09:00"),l="".concat(e,"-").concat(s,"-").concat(a,"T10:00");f(e=>({...eX,startDateTime:t,endDateTime:l,startTZ:e.startTZ||Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",endTZ:e.endTZ||Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC"}))}w("scheduling")}},[a,d,c]);let k=(0,l.useMemo)(()=>o.map(e=>({id:e.client_id,name:[e.first_name,e.middle_name,e.last_name].filter(Boolean).join(" "),authorizations:Array.isArray(e.authorizations)?e.authorizations:[]})),[o]),E=(0,l.useMemo)(()=>k.find(e=>e.id===m.clientId)||null,[k,m.clientId]);(0,l.useEffect)(()=>{d||f(e=>({...e,authCode:""}))},[m.clientId,d]);let D=(e,s)=>{f(a=>({...a,[e]:s})),v[e]&&b(s=>({...s,[e]:null}))},R=()=>{let e={};return m.clientId||(e.clientId="Required"),m.provider||(e.provider="Required"),m.placeOfService||(e.placeOfService="Required"),m.locationAddress.trim()||(e.locationAddress="Required"),m.startDateTime||(e.startDateTime="Required"),m.endDateTime||(e.endDateTime="Required"),m.startDateTime&&m.endDateTime&&new Date(m.endDateTime)<=new Date(m.startDateTime)&&(e.endDateTime="End must be after Start"),m.authCode||(e.authCode="Required"),m.startTZ||(e.startTZ="Required"),m.endTZ||(e.endTZ="Required"),b(e),Object.keys(e).length>0},I={scheduling:R,notes:()=>!1},P=async e=>{for(let a of(null==e||e.preventDefault(),T)){var s;if(null===(s=I[a])||void 0===s?void 0:s.call(I)){w(a),r.Ay.error("Please fix errors before submitting.");return}}let a=(null==E?void 0:E.name)||"Unknown",t={clientId:m.clientId,clientName:a,...(null==d?void 0:d.sessionId)?{therapist:m.provider}:{provider:m.provider},supervisingProvider:m.supervisingProvider,startDateTime:m.startDateTime,endDateTime:m.endDateTime,startTZ:m.startTZ,endTZ:m.endTZ,authCode:m.authCode,recurring:m.recurring,placeOfService:m.placeOfService,locationAddress:m.locationAddress,quickNote:m.quickNote,status:"upcoming"};(null==d?void 0:d.sessionId)&&(t.session_id=d.sessionId),console.log("[v0] Submitting payload:",t);try{let e=(null==d?void 0:d.sessionId)?"PUT":"POST",s=await fetch("".concat(e0,"/add-session.php"),{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await s.json();console.log("[v0] API Response:",a),s.ok&&a.success?(r.Ay.success(d?"Session updated!":"Session scheduled!"),null==n||n({...t,sessionId:a.session_id||(null==d?void 0:d.sessionId)}),null==i||i(),f(eX),b({})):(console.error("[v0] API Error:",a),r.Ay.error(a.error||"Failed to ".concat(d?"update":"save"," session")))}catch(e){console.error("Submit error:",e),r.Ay.error("Server error")}},z=function(e,s,a,l){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:e,children:s}),(0,t.jsx)(j,{id:e,value:a,onChange:l,className:v[e]?"border-red-500":"",...r}),v[e]&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:v[e]})]})},M=function(e,s,a,l,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Select...";return(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{children:s}),(0,t.jsxs)(eZ,{value:a,onValueChange:l,children:[(0,t.jsx)(eG,{className:v[e]?"border-red-500":"",children:(0,t.jsx)(eJ,{placeholder:i})}),(0,t.jsx)(eH,{children:r})]}),v[e]&&(0,t.jsx)("p",{className:"text-red-500 text-sm",children:v[e]})]})},F=()=>{f(eX),b({}),null==i||i()};return(0,t.jsx)(eT,{open:a,onOpenChange:F,children:(0,t.jsxs)(eD,{className:"max-w-4xl max-h-[90vh] overflow-auto",children:[(0,t.jsxs)(eR,{children:[(0,t.jsx)(eI,{children:d?"Edit Session":"Add New Session"}),(0,t.jsx)(eP,{children:"Fill in details to schedule therapy session."})]}),(0,t.jsxs)("form",{onSubmit:P,className:"space-y-6",children:[(0,t.jsxs)(eM,{value:y,onValueChange:w,children:[(0,t.jsxs)(eF,{className:"grid grid-cols-2",children:[(0,t.jsxs)(eO,{value:"scheduling",className:"flex gap-2",children:[(0,t.jsx)(er.A,{className:"h-4 w-4"})," Scheduling"]}),(0,t.jsxs)(eO,{value:"notes",className:"flex gap-2",children:[(0,t.jsx)(eu.A,{className:"h-4 w-4"})," Notes"]})]}),(0,t.jsx)(eB,{value:"scheduling",children:(0,t.jsxs)(h,{children:[(0,t.jsx)(u,{children:(0,t.jsxs)(p,{className:"flex gap-2",children:[(0,t.jsx)(ep.A,{className:"h-5 w-5 text-teal-600"})," Scheduling"]})}),(0,t.jsxs)(g,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[M("clientId","Client *",m.clientId,e=>D("clientId",e),o.map(e=>(0,t.jsx)(e$,{value:e.client_id,children:[e.first_name,e.middle_name,e.last_name].filter(Boolean).join(" ")},e.client_id)),"Select client"),M("provider","Provider *",m.provider,e=>D("provider",e),_.map(e=>(0,t.jsxs)(e$,{value:e.id,children:[e.fullName," (",e.staffType,")"]},e.id)),"Select provider")]}),M("supervisingProvider","Supervising Provider",m.supervisingProvider,e=>D("supervisingProvider",e),_.map(e=>(0,t.jsxs)(e$,{value:e.id,children:[e.fullName," (",e.staffType,")"]},e.id)),"Select supervising provider"),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[z("startDateTime","Start Date & Time *",m.startDateTime,e=>D("startDateTime",e.target.value),{type:"datetime-local"}),M("startTZ","Start Time Zone *",m.startTZ,e=>D("startTZ",e),eQ.map(e=>(0,t.jsx)(e$,{value:e,children:e},e)))]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[z("endDateTime","End Date & Time *",m.endDateTime,e=>D("endDateTime",e.target.value),{type:"datetime-local"}),M("endTZ","End Time Zone *",m.endTZ,e=>D("endTZ",e),eQ.map(e=>(0,t.jsx)(e$,{value:e,children:e},e)))]}),M("authCode","Authorization Code *",m.authCode,e=>D("authCode",e),(null==E?void 0:null===(s=E.authorizations)||void 0===s?void 0:s.map((e,s)=>{var a,l;let r=(null===(a=e.billing_codes)||void 0===a?void 0:a.trim())||(null===(l=e.authorization_number)||void 0===l?void 0:l.trim());return(0,t.jsx)(e$,{value:r,children:r},"".concat(r,"-").concat(s))}))||[],E?"Select auth code":"Select client first"),z("locationAddress","Location Address *",m.locationAddress,e=>D("locationAddress",e.target.value),{placeholder:"Enter address"})]})]})}),(0,t.jsx)(eB,{value:"notes",children:(0,t.jsxs)(h,{children:[(0,t.jsx)(u,{children:(0,t.jsxs)(p,{className:"flex gap-2",children:[(0,t.jsx)(eu.A,{className:"h-5 w-5 text-teal-600"})," Notes"]})}),(0,t.jsxs)(g,{children:[(0,t.jsx)(N,{children:"Quick Note"}),(0,t.jsx)(eK,{rows:3,value:m.quickNote,onChange:e=>D("quickNote",e.target.value)})]})]})})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,t.jsx)(x,{type:"button",variant:"outline",onClick:F,children:"Cancel"}),"notes"===y?(0,t.jsx)(x,{type:"submit",className:"bg-teal-600 hover:bg-teal-700",children:d?"Update Session":"Add Session"}):(0,t.jsx)(x,{type:"button",className:"bg-teal-600 hover:bg-teal-700",onClick:e=>{e.preventDefault(),e.stopPropagation(),R()||w("notes")},children:"Next"})]})]})]})})}function e2(e){return new Date(e.getFullYear(),e.getMonth(),1)}function e5(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function e4(e,s){return new Date(e.getFullYear(),e.getMonth()+s,1)}function e6(e,s){return e.getFullYear()===s.getFullYear()&&e.getMonth()===s.getMonth()&&e.getDate()===s.getDate()}function e3(e){if(!e)return"";let s=new Date(e),a=s.getHours(),t=String(s.getMinutes()).padStart(2,"0");return"".concat(a%12==0?12:a%12,":").concat(t," ").concat(a>=12?"PM":"AM")}function e8(e,s){return!!e&&e6(new Date(e),s)}function e7(e){if(!e||"—"===e)return 1440;let[s,a]=e.split(" "),[t,l]=s.split(":").map(Number),r=t%12;return"PM"===(a||"").toUpperCase()&&(r+=12),60*r+(l||0)}function e9(){let[e,s]=(0,l.useState)(new Date),[a,r]=(0,l.useState)(!1),[i,n]=(0,l.useState)(null),[d,c]=(0,l.useState)(null),[o,m]=(0,l.useState)([]),[f,j]=(0,l.useState)(null),[v,b]=(0,l.useState)([]),[N,y]=(0,l.useState)(!1),[_,A]=(0,l.useState)(null),S="https://www.mahabehavioralhealth.com/mahaverse-backend-test",C=new Date;(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat(S,"/get-clients.php")),s=await e.json();s.clients&&Array.isArray(s.clients)&&m(s.clients)}catch(e){console.error("Failed to fetch clients:",e)}})()},[S]);let T=e2(e),k=e5(e),E=T.getDay(),D=k.getDate(),R=(0,l.useMemo)(()=>{let s=[];for(let e=0;e<E;e++)s.push(null);for(let a=1;a<=D;a++)s.push(new Date(e.getFullYear(),e.getMonth(),a));let a=s.length<=35?35:42;for(;s.length<a;)s.push(null);return s},[e,E,D]),I=(0,l.useCallback)(async()=>{y(!0),A(null);try{let s=await fetch("".concat(S,"/add-session.php"),{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.error||"Failed to fetch: ".concat(s.status))}let a=await s.json(),t=(Array.isArray(a)?a:[a]).map(e=>{let s=e.start_utc||e.tech_start_utc_old,a=e.end_utc||e.tech_end_utc_old,t=e.start_tz||e.tech_tz_old,l=e.end_tz||e.tech_tz_old,r=e.auth_code||e.tech_auth_code_old,i=e.provider_id||e.therapist_id_old,n=e=>e&&"0000-00-00 00:00:00"!==e?e.replace(" ","T")+"Z":"";return{sessionId:e.session_id,clientId:e.client_id,clientName:e.client_name||"",providerId:i,supervisingProviderId:e.supervising_provider_id,startDateTime:n(s),endDateTime:n(a),startTZ:t||"",endTZ:l||"",authCode:r||"",recurring:e.recurring||"No",placeOfService:e.place_of_service||"Clinic",locationAddress:e.location_address||"",quickNote:e.quick_note||"",status:e.STATUS||e.status||"upcoming",createdAt:e.created_at,updatedAt:e.updated_at}}),l=e2(e),r=e5(e),i=e=>{if(!e)return!1;let s=new Date(e),a=new Date(r.getFullYear(),r.getMonth(),r.getDate(),23,59,59,999);return s>=new Date(l.getFullYear(),l.getMonth(),1)&&s<=a},n=t.filter(e=>i(e.startDateTime));b(n)}catch(e){A(e.message||"Failed to load sessions")}finally{y(!1)}},[e,S]);(0,l.useEffect)(()=>{I()},[I]);let P=(0,l.useMemo)(()=>{let e=[];return v.forEach(s=>{(null==s?void 0:s.startDateTime)&&e8(s.startDateTime,C)&&e.push({sessionId:s.sessionId,time:e3(s.startDateTime),client:s.clientName||"Client",providerId:s.providerId||"Provider",type:"Session",status:s.status||"upcoming",session:s})}),e.sort((e,s)=>e7(e.time)-e7(s.time))},[v,C]),z=e=>{e&&n(e)},M=e=>{e&&(n(e),c(null),r(!0))},F=e=>{let s=o.find(s=>s.client_id===e.clientId);console.log("[v0] Editing session:",e),console.log("[v0] Found client details:",s);let a=e=>e?e.replace("Z","").slice(0,16):"";c({sessionId:e.sessionId,clientId:e.clientId,clientName:s?[s.first_name,s.middle_name,s.last_name].filter(Boolean).join(" "):e.clientName||"",providerId:e.providerId,supervisingProviderId:e.supervisingProviderId,startDateTime:a(e.startDateTime),endDateTime:a(e.endDateTime),startTZ:e.startTZ,endTZ:e.endTZ,authCode:e.authCode,recurring:e.recurring,placeOfService:e.placeOfService,locationAddress:e.locationAddress,quickNote:e.quickNote}),j(null),r(!0)},O=e=>{let s=o.find(s=>s.client_id===e.clientId),a={...e,clientName:s?[s.first_name,s.middle_name,s.last_name].filter(Boolean).join(" "):e.clientName||"Unknown Client"};console.log("[v0] Viewing session with client details:",a),j(a)},B=e=>{if(!e)return[];let s=[];return v.forEach(a=>{if((null==a?void 0:a.startDateTime)&&e8(a.startDateTime,e)){var t;s.push({color:"bg-teal-100 text-teal-800",label:"".concat((t=a.clientName)?t.trim().split(/\s+/).slice(0,2).map(e=>{var s;return null===(s=e[0])||void 0===s?void 0:s.toUpperCase()}).join(""):""," ").concat(e3(a.startDateTime).replace(":00 ",""))})}}),s.slice(0,2)},L=(0,l.useMemo)(()=>{if(!i)return[];let e=[];return v.forEach(s=>{(null==s?void 0:s.startDateTime)&&e8(s.startDateTime,i)&&e.push({sessionId:s.sessionId,time:e3(s.startDateTime),client:s.clientName||"Client",providerId:s.providerId||"Provider",authCode:s.authCode||"",status:s.status||"upcoming",session:s})}),e.sort((e,s)=>e7(e.time)-e7(s.time))},[v,i]),q=async()=>{r(!1),c(null),await I()};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-slate-800",children:"Scheduling"}),(0,t.jsx)("p",{className:"text-slate-600 mt-1",children:"Manage appointments and therapy sessions"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[(0,t.jsxs)(h,{className:"shadow-lg border-0 xl:col-span-2",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(p,{className:"text-slate-800 flex items-center",children:[(0,t.jsx)(en.A,{className:"h-5 w-5 mr-2 text-teal-600"}),"Calendar View"]}),(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(x,{variant:"outline",size:"sm",onClick:()=>s(e=>e4(e,-1)),children:(0,t.jsx)(e_.A,{className:"h-4 w-4"})}),(0,t.jsxs)("span",{className:"font-medium text-slate-800 min-w-[160px] text-center",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ",e.getFullYear()]}),(0,t.jsx)(x,{variant:"outline",size:"sm",onClick:()=>s(e=>e4(e,1)),children:(0,t.jsx)(eA.A,{className:"h-4 w-4"})})]})})]})}),(0,t.jsxs)(g,{children:[(0,t.jsx)("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,t.jsx)("div",{className:"text-center font-semibold text-slate-600 py-2 bg-slate-50 rounded-lg",children:e},e))}),(0,t.jsx)("div",{className:"grid grid-cols-7 gap-2",children:R.map((e,s)=>{let a=e&&e6(e,new Date),l=e&&i&&e6(e,i),r=!!e&&function(e,s){let a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(s.getFullYear(),s.getMonth(),s.getDate());return a.getTime()<t.getTime()}(e,C),n=B(e);return(0,t.jsxs)("div",{onClick:()=>{e&&z(e)},className:"group relative aspect-square border rounded-lg p-2 transition-colors\n                      ".concat(e?"border-slate-200":"border-transparent bg-transparent cursor-default","\n                      ").concat(e?"hover:bg-slate-50 cursor-pointer":"border-transparent bg-transparent cursor-default","\n                      ").concat(r?"bg-slate-50/40":"","\n\n                      ").concat(l?"ring-2 ring-teal-500":"","\n                      ").concat(a?"bg-teal-50":""),children:[(0,t.jsx)("div",{className:"text-sm font-medium ".concat(r?"text-slate-400":"text-slate-600"),children:e?e.getDate():""}),(0,t.jsx)("div",{className:"space-y-1 mt-1",children:n.map((e,s)=>(0,t.jsx)("div",{className:"".concat(e.color," text-xs p-1 rounded truncate"),children:e.label},s))}),e&&(0,t.jsx)("div",{className:"absolute bottom-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsxs)(x,{variant:"ghost",size:"xs",className:"text-teal-700 p-1 h-6",onClick:s=>{s.stopPropagation(),M(e)},children:[(0,t.jsx)(eS.A,{className:"h-3 w-3 mr-1"})," Add"]})})]},s)})})]})]}),(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(p,{className:"text-slate-800",children:f?"Session Details":"Day Details"}),f?(0,t.jsx)(x,{variant:"outline",size:"sm",onClick:()=>j(null),children:"Back to Day View"}):i&&(0,t.jsx)("span",{className:"text-sm text-slate-600",children:i.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})}),(0,t.jsx)(g,{children:f?(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-slate-50 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold text-slate-800 mb-3",children:"Session Information"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Client:"}),(0,t.jsx)("span",{className:"font-medium",children:f.clientName})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Provider ID:"}),(0,t.jsx)("span",{className:"font-medium",children:f.providerId})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Auth Code:"}),(0,t.jsx)("span",{className:"font-medium",children:f.authCode||"N/A"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Status:"}),(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("confirmed"===f.status?"bg-green-100 text-green-800":"in-progress"===f.status?"bg-blue-100 text-blue-800":"bg-slate-100 text-slate-800"),children:"confirmed"===f.status?"Confirmed":"in-progress"===f.status?"In Progress":"Upcoming"})]})]})]}),(0,t.jsxs)("div",{className:"p-4 bg-slate-50 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold text-slate-800 mb-3",children:"Schedule Details"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Start Time:"}),(0,t.jsx)("span",{className:"font-medium",children:e3(f.startDateTime)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"End Time:"}),(0,t.jsx)("span",{className:"font-medium",children:e3(f.endDateTime)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Time Zone:"}),(0,t.jsx)("span",{className:"font-medium",children:f.startTZ})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Recurring:"}),(0,t.jsx)("span",{className:"font-medium",children:f.recurring})]})]})]}),(0,t.jsxs)("div",{className:"p-4 bg-slate-50 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold text-slate-800 mb-3",children:"Location & Notes"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Place of Service:"}),(0,t.jsx)("span",{className:"font-medium",children:f.placeOfService})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Location Address:"}),(0,t.jsx)("p",{className:"font-medium mt-1",children:f.locationAddress||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Quick Note:"}),(0,t.jsx)("p",{className:"font-medium mt-1",children:f.quickNote||"No notes"})]})]})]}),(0,t.jsx)("div",{className:"flex space-x-2",children:(0,t.jsxs)(x,{variant:"outline",size:"sm",onClick:()=>F(f),className:"flex-1",children:[(0,t.jsx)(eC.A,{className:"h-3 w-3 mr-1"}),"Edit Session"]})})]})}):(0,t.jsxs)(t.Fragment,{children:[!i&&(0,t.jsx)("div",{className:"text-slate-500 text-sm",children:"Select a date to view or add sessions."}),i&&(0,t.jsxs)(t.Fragment,{children:[N&&(0,t.jsx)("div",{className:"text-slate-500 text-sm",children:"Loading…"}),_&&!N&&(0,t.jsxs)("div",{className:"text-red-600 text-sm",children:["Error: ",_]}),!N&&!_&&(0,t.jsx)(t.Fragment,{children:0===L.length?(0,t.jsx)("div",{className:"text-slate-500 text-sm mb-3",children:"No sessions scheduled for this date."}):(0,t.jsx)("div",{className:"space-y-3 mb-3",children:L.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border border-slate-200 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-slate-800",children:e.client}),(0,t.jsxs)("p",{className:"text-sm text-slate-600",children:[e.time," • Session"," ",e.authCode?"• ".concat(e.authCode):""]}),(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["Provider: ",e.providerId]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("confirmed"===e.status?"bg-green-100 text-green-800":"in-progress"===e.status?"bg-blue-100 text-blue-800":"bg-slate-100 text-slate-800"),children:"confirmed"===e.status?"Confirmed":"in-progress"===e.status?"In Progress":"Upcoming"}),(0,t.jsx)(x,{title:"View more",variant:"outline",size:"sm",onClick:()=>O(e.session),children:(0,t.jsx)(w.A,{className:"h-3 w-3 mr-1"})}),(0,t.jsx)(x,{title:"Edit",variant:"outline",size:"sm",onClick:()=>F(e.session),children:(0,t.jsx)(eC.A,{className:"h-3 w-3 mr-1"})})]})]},s))})})]})]})})]})]}),(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsx)(p,{className:"text-slate-800",children:"Today's Schedule"})}),(0,t.jsxs)(g,{children:[N&&(0,t.jsx)("div",{className:"text-slate-500 text-sm",children:"Loading sessions…"}),_&&!N&&(0,t.jsxs)("div",{className:"text-red-600 text-sm",children:["Error: ",_]}),!N&&!_&&(0,t.jsx)(t.Fragment,{children:0===P.length?(0,t.jsx)("div",{className:"text-slate-500 text-sm",children:"No sessions today."}):(0,t.jsx)("div",{className:"space-y-4",children:P.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-xl hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"bg-teal-100 p-3 rounded-xl",children:(0,t.jsx)(en.A,{className:"h-5 w-5 text-teal-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-slate-800",children:e.client}),(0,t.jsxs)("p",{className:"text-sm text-slate-600",children:[e.time," • ",e.type]}),(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["Provider: ",e.providerId]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("confirmed"===e.status?"bg-green-100 text-green-800":"in-progress"===e.status?"bg-blue-100 text-blue-800":"bg-slate-100 text-slate-800"),children:"confirmed"===e.status?"Confirmed":"in-progress"===e.status?"In Progress":"Upcoming"}),(0,t.jsxs)(x,{variant:"outline",size:"sm",onClick:()=>O(e.session),children:[(0,t.jsx)(w.A,{className:"h-3 w-3 mr-1"}),"View"]}),(0,t.jsxs)(x,{variant:"outline",size:"sm",onClick:()=>F(e.session),children:[(0,t.jsx)(eC.A,{className:"h-3 w-3 mr-1"}),"Edit"]})]})]},s))})})]})]}),(0,t.jsx)(e1,{isOpen:a,onClose:()=>{r(!1),c(null)},onSave:q,selectedDate:i,editingSession:d,clients:o})]})}let se=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground ",secondary:"border-transparent bg-secondary text-secondary-foreground ",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ss(e){let{className:s,variant:a,...l}=e;return(0,t.jsx)("div",{className:o(se({variant:a}),s),...l})}let sa=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:s,className:o("w-full caption-bottom text-sm",a),...l})})});sa.displayName="Table";let st=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("thead",{ref:s,className:o("[&_tr]:border-b",a),...l})});st.displayName="TableHeader";let sl=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("tbody",{ref:s,className:o("[&_tr:last-child]:border-0",a),...l})});sl.displayName="TableBody",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("tfoot",{ref:s,className:o("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...l})}).displayName="TableFooter";let sr=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("tr",{ref:s,className:o("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...l})});sr.displayName="TableRow";let si=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("th",{ref:s,className:o("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...l})});si.displayName="TableHead";let sn=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("td",{ref:s,className:o(" align-middle [&:has([role=checkbox])]:pr-0",a),...l})});sn.displayName="TableCell",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("caption",{ref:s,className:o("mt-4 text-sm text-muted-foreground",a),...l})}).displayName="TableCaption";var sd=a(8698),sc=a(9428);let so=sd.bL,sm=sd.l9;sd.YJ,sd.ZL,sd.Pb,sd.z6,l.forwardRef((e,s)=>{let{className:a,inset:l,children:r,...i}=e;return(0,t.jsxs)(sd.ZP,{ref:s,className:o("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",l&&"pl-8",a),...i,children:[r,(0,t.jsx)(eA.A,{className:"ml-auto"})]})}).displayName=sd.ZP.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(sd.G5,{ref:s,className:o("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})}).displayName=sd.G5.displayName;let sx=l.forwardRef((e,s)=>{let{className:a,sideOffset:l=4,...r}=e;return(0,t.jsx)(sd.ZL,{children:(0,t.jsx)(sd.UC,{ref:s,sideOffset:l,className:o("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})})});sx.displayName=sd.UC.displayName;let sh=l.forwardRef((e,s)=>{let{className:a,inset:l,...r}=e;return(0,t.jsx)(sd.q7,{ref:s,className:o("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",l&&"pl-8",a),...r})});sh.displayName=sd.q7.displayName,l.forwardRef((e,s)=>{let{className:a,children:l,checked:r,...i}=e;return(0,t.jsxs)(sd.H_,{ref:s,className:o("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:r,...i,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(sd.VF,{children:(0,t.jsx)(eU.A,{className:"h-4 w-4"})})}),l]})}).displayName=sd.H_.displayName,l.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(sd.hN,{ref:s,className:o("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(sd.VF,{children:(0,t.jsx)(sc.A,{className:"h-2 w-2 fill-current"})})}),l]})}).displayName=sd.hN.displayName,l.forwardRef((e,s)=>{let{className:a,inset:l,...r}=e;return(0,t.jsx)(sd.JU,{ref:s,className:o("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",a),...r})}).displayName=sd.JU.displayName;let su=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(sd.wv,{ref:s,className:o("-mx-1 my-1 h-px bg-muted",a),...l})});su.displayName=sd.wv.displayName;var sp=a(5853),sf=a(9022),sg=a(9420),sj=a(4020),sv=a(9890),sb=a(2525);let sN=["United States","Canada","United Kingdom","Australia","Germany","France","India","Other"],sy=["Active","Inactive","Expired"],sw=["Insurance","Intake Doc","Clinical Doc","Service Doc","Misc"],s_=[{code:"97151",name:"Behavior Identification Assessment"},{code:"97152",name:"Behavior Identification Supporting Assessment"},{code:"97153",name:"Adaptive Behavior Treatment by Protocol"},{code:"97154",name:"Group Adaptive Behavior Treatment by Protocol"},{code:"97155",name:"Adaptive Behavior Treatment with Protocol Modification"},{code:"97156",name:"Family Adaptive Behavior Treatment Guidance"},{code:"97157",name:"Multiple Family Group Adaptive Behavior Treatment Guidance"},{code:"97158",name:"Group Adaptive Behavior Treatment with Protocol Modification"}],sA={first_name:"",middle_name:"",last_name:"",date_of_birth:"",gender:"",preferred_language:"",client_status:"New",wait_list_status:"No",phone:"",email:"",appointment_reminder:"",address_line_1:"",address_line_2:"",city:"",state:"",zipcode:"",country:"",countryOther:"",parent_first_name:"",parent_last_name:"",relationship_to_insured:"",relation_other:"",emergency_contact_name:"",emg_relationship:"",emg_phone:"",emg_email:"",client_notes:"",other_information:"",insurances:[],authorizations:[],documents:[]},sS={insurance_type:"Primary",insurance_provider:"",treatment_type:"",insurance_id_number:"",group_number:"",coinsurance:"",deductible:"",start_date:"",end_date:""},sC={authorization_number:"",billing_codes:"",units_approved_per_15_min:"",units_serviced:"",balance_units:"",start_date:"",end_date:"",insurance_id:"",status:"Active"},sT={document_type:"",file_url:""};function sk(e){let{isOpen:s,onClose:a,onSave:r,editingClient:i}=e,[n,d]=(0,l.useState)(sA),[c,o]=(0,l.useState)({}),[m,f]=(0,l.useState)("personal"),[v,b]=(0,l.useState)(!1),y=["personal","contact","guardian","insurance","documents","notes"];(0,l.useEffect)(()=>{if(i){var e;d({...sA,...i,insurances:Array.isArray(i.insurances)&&i.insurances.length>0?i.insurances:[],authorizations:Array.isArray(i.authorizations)&&i.authorizations.length>0?i.authorizations.map(e=>({...sC,...e,status:e.status||"Active",insurance_id:e.insurance_id||"",units_serviced:e.units_serviced||"",balance_units:e.balance_units||""})):[],documents:Array.isArray(i.documents)&&i.documents.length>0?i.documents:[],date_of_birth:(null===(e=i.date_of_birth)||void 0===e?void 0:e.slice(0,10))||"",country:i.country||"",countryOther:i.countryOther||"",relationship_to_insured:i.relationship_to_insured||"",relation_other:i.relation_other||"",appointment_reminder:i.appointment_reminder||""})}else d({...sA,insurances:[],authorizations:[],documents:[]});o({}),f("personal")},[i,s]);let w=()=>{let e={...n,country:"Other"===n.country?n.countryOther.trim():n.country,insurances:n.insurances.filter(e=>e.insurance_provider||e.insurance_id_number||e.treatment_type),authorizations:n.authorizations.filter(e=>e.authorization_number||e.billing_codes||e.units_approved_per_15_min).map(e=>{let s=Number.parseFloat(e.units_approved_per_15_min)||0,a=Number.parseFloat(e.units_serviced)||0;return{...e,insurance_id:e.insurance_id||"",status:e.status||"Active",units_serviced:a.toString(),balance_units:(s-a).toString()}}),documents:n.documents.filter(e=>e.document_type||e.file_url)};return delete e.countryOther,e},A=(e,s)=>{d(a=>({...a,[e]:s})),c[e]&&o(s=>({...s,[e]:null}))},S=(e,s,a)=>{d(t=>({...t,insurances:t.insurances.map((t,l)=>l===e?{...t,[s]:a}:t)}));let t="insurance_".concat(s,"_").concat(e);c[t]&&o(e=>({...e,[t]:null}))},T=(e,s,a)=>{d(t=>{let l=t.authorizations.map((t,l)=>{if(l===e){let e={...t,[s]:a},l=Number.parseFloat("units_approved_per_15_min"===s?a:e.units_approved_per_15_min)||0,r=Number.parseFloat("units_serviced"===s?a:e.units_serviced)||0;return e.balance_units=(l-r).toString(),e}return t});return{...t,authorizations:l}});let t="auth_".concat(s,"_").concat(e);c[t]&&o(e=>({...e,[t]:null}))},k=(e,s,a)=>{d(t=>({...t,documents:t.documents.map((t,l)=>l===e?{...t,[s]:a}:t)}));let t="document_".concat(s,"_").concat(e);c[t]&&o(e=>({...e,[t]:null}))},E=()=>{d(e=>({...e,insurances:[...e.insurances,{...sS,insurance_type:"Secondary"}]}))},D=e=>{d(s=>{let a=s.insurances.filter((s,a)=>a!==e),t=s.authorizations.filter(s=>s.insurance_id!==String(e));return{...s,insurances:a,authorizations:t}})},R=()=>{d(e=>({...e,authorizations:[...e.authorizations,{...sC}]}))},I=e=>{d(s=>({...s,authorizations:s.authorizations.filter((s,a)=>a!==e)}))},P=()=>{d(e=>({...e,documents:[...e.documents,{...sT,doc_uuid:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let s=16*Math.random()|0;return("x"===e?s:3&s|8).toString(16)})}]}))},z=e=>{d(s=>({...s,documents:s.documents.filter((s,a)=>a!==e)}))},M=e=>{let s={},a=!1;switch(e){case"personal":n.first_name.trim()||(s.first_name="Missing Required Entry",a=!0),n.last_name.trim()||(s.last_name="Missing Required Entry",a=!0),n.date_of_birth||(s.date_of_birth="Missing Required Entry",a=!0),n.client_status.trim()||(s.client_status="Missing Required Entry",a=!0);break;case"contact":n.phone.trim()||(s.phone="Missing Required Entry",a=!0),n.email.trim()?/\S+@\S+\.\S+/.test(n.email)||(s.email="Invalid email format",a=!0):(s.email="Missing Required Entry",a=!0);break;case"guardian":(n.parent_first_name.trim()||n.parent_last_name.trim())&&(n.parent_first_name.trim()||(s.parent_first_name="Missing Required Entry",a=!0),n.parent_last_name.trim()||(s.parent_last_name="Missing Required Entry",a=!0),n.relationship_to_insured.trim()||(s.relationship_to_insured="Missing Required Entry",a=!0),"Other"!==n.relationship_to_insured||n.relation_other.trim()||(s.relation_other="Missing Required Entry",a=!0)),(n.emergency_contact_name.trim()||n.emg_relationship.trim()||n.emg_phone.trim())&&(n.emergency_contact_name.trim()||(s.emergency_contact_name="Missing Required Entry",a=!0),n.emg_relationship.trim()||(s.emg_relationship="Missing Required Entry",a=!0),n.emg_phone.trim()||(s.emg_phone="Missing Required Entry",a=!0));break;case"insurance":n.insurances.forEach((e,t)=>{e.insurance_type.trim()||(s["insurance_insurance_type_".concat(t)]="Missing Required Entry",a=!0),e.insurance_provider.trim()||(s["insurance_insurance_provider_".concat(t)]="Missing Required Entry",a=!0),e.treatment_type.trim()||(s["insurance_treatment_type_".concat(t)]="Missing Required Entry",a=!0),e.insurance_id_number.trim()||(s["insurance_insurance_id_number_".concat(t)]="Missing Required Entry",a=!0),e.group_number.trim()||(s["insurance_group_number_".concat(t)]="Missing Required Entry",a=!0),e.start_date.trim()||(s["insurance_start_date_".concat(t)]="Missing Required Entry",a=!0)}),n.authorizations.forEach((e,t)=>{e.authorization_number.trim()||(s["auth_authorization_number_".concat(t)]="Missing Required Entry",a=!0),e.billing_codes.trim()||(s["auth_billing_codes_".concat(t)]="Missing Required Entry",a=!0);let l=Number(e.units_approved_per_15_min);(""===e.units_approved_per_15_min||isNaN(l)||l<0)&&(s["auth_units_approved_per_15_min_".concat(t)]="Missing Required Entry",a=!0),e.start_date.trim()||(s["auth_start_date_".concat(t)]="Missing Required Entry",a=!0),e.end_date.trim()||(s["auth_end_date_".concat(t)]="Missing Required Entry",a=!0),e.insurance_id.trim()||(s["auth_insurance_id_".concat(t)]="Missing Required Entry",a=!0),e.status.trim()||(s["auth_status_".concat(t)]="Missing Required Entry",a=!0);let r=Number.parseFloat(e.units_approved_per_15_min)||0;(Number.parseFloat(e.units_serviced)||0)>r&&(s["auth_units_serviced_".concat(t)]="Units Serviced cannot exceed Units Approved",a=!0)});break;case"documents":n.documents.forEach((e,t)=>{(e.document_type.trim()||e.file_url.trim())&&(e.document_type.trim()||(s["document_document_type_".concat(t)]="Missing Required Entry",a=!0),e.file_url.trim()||(s["document_file_url_".concat(t)]="Missing Required Entry",a=!0))})}return o(e=>({...e,...s})),a},F=()=>{let e=!1,s=null;["personal","contact"].forEach(a=>{M(a)&&!s&&(s=a,e=!0)});let a=[];return(n.parent_first_name.trim()||n.parent_last_name.trim()||n.emergency_contact_name.trim()||n.emg_relationship.trim()||n.emg_phone.trim())&&a.push("guardian"),(n.insurances.length>0||n.authorizations.length>0)&&a.push("insurance"),n.documents.some(e=>e.document_type.trim()||e.file_url.trim())&&a.push("documents"),a.forEach(a=>{M(a)&&!s&&(s=a,e=!0)}),s&&f(s),e},O=async e=>{if(e.preventDefault(),b(!0),F()){b(!1);return}let s=w();console.log("Data being sent to API:",s),await r(s),b(!1)},B=()=>{d(sA),o({}),f("personal"),a()},L=m===y[y.length-1],q=function(e,s,a,l){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:e,children:s}),(0,t.jsx)(j,{id:e,value:a,onChange:l,className:c[e]?"border-red-500 focus:border-red-500 focus:ring-red-500":"",...r}),c[e]&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c[e]})]})},V=function(e,s,a,l,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Select...";return(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:e,children:s}),(0,t.jsxs)(eZ,{value:a,onValueChange:l,children:[(0,t.jsx)(eG,{className:c[e]?"border-red-500 focus:border-red-500 focus:ring-red-500":"",children:(0,t.jsx)(eJ,{placeholder:i})}),(0,t.jsx)(eH,{children:r})]}),c[e]&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c[e]})]})};return(0,t.jsx)(eT,{open:s,onOpenChange:B,children:(0,t.jsxs)(eD,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)(eR,{children:(0,t.jsxs)(eI,{className:"text-xl font-semibold text-slate-800",children:[i?"Edit Client":"Add New Client",v&&(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-500 italic",children:"Saving..."})]})}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:(0,t.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,t.jsx)("strong",{children:"Quick Start:"})," You can add a client with just Personal and Contact information. All other sections (Guardian, Insurance, Documents, Notes) are optional and can be filled out later."]})}),(0,t.jsxs)("form",{onSubmit:O,className:"space-y-6",children:[(0,t.jsxs)(eM,{value:m,onValueChange:f,className:"w-full",children:[(0,t.jsxs)(eF,{className:"grid w-full grid-cols-5 lg:grid-cols-6",children:[(0,t.jsxs)(eO,{value:"personal",className:"flex items-center gap-2",children:[(0,t.jsx)(er.A,{className:"h-4 w-4"})," Personal *"]}),(0,t.jsxs)(eO,{value:"contact",className:"flex items-center gap-2",children:[(0,t.jsx)(sg.A,{className:"h-4 w-4"})," Contact *"]}),(0,t.jsxs)(eO,{value:"guardian",className:"flex items-center gap-2",children:[(0,t.jsx)(C.A,{className:"h-4 w-4"})," Guardian"]}),(0,t.jsxs)(eO,{value:"insurance",className:"flex items-center gap-2",children:[(0,t.jsx)(_.A,{className:"h-4 w-4"})," Insurance"]}),(0,t.jsxs)(eO,{value:"documents",className:"flex items-center gap-2",children:[(0,t.jsx)(sv.A,{className:"h-4 w-4"})," Documents"]}),(0,t.jsxs)(eO,{value:"notes",className:"flex items-center gap-2",children:[(0,t.jsx)(eu.A,{className:"h-4 w-4"})," Notes"]})]}),(0,t.jsx)(eB,{value:"personal",className:"space-y-6",children:(0,t.jsxs)(h,{children:[(0,t.jsx)(u,{children:(0,t.jsxs)(p,{className:"flex items-center gap-2",children:[(0,t.jsx)(er.A,{className:"h-5 w-5 text-teal-600"})," Personal Information"]})}),(0,t.jsxs)(g,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[q("first_name","First Name *",n.first_name,e=>A("first_name",e.target.value),{placeholder:"Enter first name"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"middle_name",children:"Middle Name"}),(0,t.jsx)(j,{id:"middle_name",value:n.middle_name,onChange:e=>A("middle_name",e.target.value),placeholder:"Enter middle name"})]}),q("last_name","Last Name *",n.last_name,e=>A("last_name",e.target.value),{placeholder:"Enter last name"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[q("date_of_birth","Date of Birth *",n.date_of_birth,e=>A("date_of_birth",e.target.value),{type:"date"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"gender",children:"Gender"}),(0,t.jsxs)(eZ,{value:n.gender,onValueChange:e=>A("gender",e),children:[(0,t.jsx)(eG,{children:(0,t.jsx)(eJ,{placeholder:"Select gender"})}),(0,t.jsxs)(eH,{children:[(0,t.jsx)(e$,{value:"Male",children:"Male"}),(0,t.jsx)(e$,{value:"Female",children:"Female"}),(0,t.jsx)(e$,{value:"Other",children:"Other"}),(0,t.jsx)(e$,{value:"Prefer not to say",children:"Prefer not to say"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"preferred_language",children:"Preferred Language"}),(0,t.jsx)(j,{id:"preferred_language",value:n.preferred_language,onChange:e=>A("preferred_language",e.target.value),placeholder:"Enter preferred language"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[V("client_status","Client Status *",n.client_status,e=>A("client_status",e),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e$,{value:"New",children:"New"}),(0,t.jsx)(e$,{value:"Active",children:"Active"}),(0,t.jsx)(e$,{value:"Inactive",children:"Inactive"}),(0,t.jsx)(e$,{value:"Benefits Verification",children:"Benefits Verification"}),(0,t.jsx)(e$,{value:"Prior Authorization",children:"Prior Authorization"}),(0,t.jsx)(e$,{value:"Client Assessment",children:"Client Assessment"}),(0,t.jsx)(e$,{value:"Pending Authorization",children:"Pending Authorization"})]}),"Select status"),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"wait_list_status",children:"Wait List Status"}),(0,t.jsxs)(eZ,{value:n.wait_list_status,onValueChange:e=>A("wait_list_status",e),children:[(0,t.jsx)(eG,{children:(0,t.jsx)(eJ,{placeholder:"Select wait list status"})}),(0,t.jsxs)(eH,{children:[(0,t.jsx)(e$,{value:"Yes",children:"Yes"}),(0,t.jsx)(e$,{value:"No",children:"No"})]})]})]})]})]})]})}),(0,t.jsxs)(eB,{value:"contact",className:"space-y-6",children:[(0,t.jsxs)(h,{children:[(0,t.jsx)(u,{children:(0,t.jsxs)(p,{className:"flex items-center gap-2",children:[(0,t.jsx)(sg.A,{className:"h-5 w-5 text-teal-600"})," Contact Information"]})}),(0,t.jsxs)(g,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[q("phone","Phone Number *",n.phone,e=>A("phone",e.target.value),{placeholder:"Enter phone number"}),q("email","Email Address *",n.email,e=>A("email",e.target.value),{type:"email",placeholder:"Enter email address"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"appointment_reminder",children:"Appointment Reminder Preference"}),(0,t.jsxs)(eZ,{value:n.appointment_reminder,onValueChange:e=>A("appointment_reminder",e),children:[(0,t.jsx)(eG,{children:(0,t.jsx)(eJ,{placeholder:"Select reminder preference"})}),(0,t.jsxs)(eH,{children:[(0,t.jsx)(e$,{value:"text",children:"Text Message"}),(0,t.jsx)(e$,{value:"email",children:"Email"}),(0,t.jsx)(e$,{value:"phone",children:"Phone Call"}),(0,t.jsx)(e$,{value:"none",children:"No Reminder"})]})]})]})]})]}),(0,t.jsxs)(h,{children:[(0,t.jsx)(u,{children:(0,t.jsxs)(p,{className:"flex items-center gap-2",children:[(0,t.jsx)(ev.A,{className:"h-5 w-5 text-teal-600"})," Address Information",(0,t.jsx)(ss,{variant:"secondary",className:"ml-2",children:"Optional"})]})}),(0,t.jsxs)(g,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"address_line_1",children:"Address Line 1"}),(0,t.jsx)(j,{id:"address_line_1",value:n.address_line_1,onChange:e=>A("address_line_1",e.target.value),placeholder:"Enter street address"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"address_line_2",children:"Address Line 2"}),(0,t.jsx)(j,{id:"address_line_2",value:n.address_line_2,onChange:e=>A("address_line_2",e.target.value),placeholder:"Apartment, suite, etc."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"city",children:"City"}),(0,t.jsx)(j,{id:"city",value:n.city,onChange:e=>A("city",e.target.value),placeholder:"Enter city"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"state",children:"State"}),(0,t.jsx)(j,{id:"state",value:n.state,onChange:e=>A("state",e.target.value),placeholder:"Enter state"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"zipcode",children:"ZIP Code"}),(0,t.jsx)(j,{id:"zipcode",value:n.zipcode,onChange:e=>A("zipcode",e.target.value),placeholder:"Enter ZIP code"})]})]}),(0,t.jsx)("div",{className:"space-y-1",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"country",children:"Country"}),(0,t.jsxs)(eZ,{value:n.country,onValueChange:e=>{A("country",e),"Other"!==e&&A("countryOther","")},children:[(0,t.jsx)(eG,{children:(0,t.jsx)(eJ,{placeholder:"Select country"})}),(0,t.jsx)(eH,{children:sN.map(e=>(0,t.jsx)(e$,{value:e,children:e},e))})]})]}),"Other"===n.country&&(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"countryOther",children:"Specify Country"}),(0,t.jsx)(j,{id:"countryOther",value:n.countryOther||"",onChange:e=>A("countryOther",e.target.value),placeholder:"Enter country name"})]})]})})]})]})]}),(0,t.jsxs)(eB,{value:"guardian",className:"space-y-6",children:[(0,t.jsxs)(h,{children:[(0,t.jsx)(u,{children:(0,t.jsxs)(p,{className:"flex items-center gap-2",children:[(0,t.jsx)(C.A,{className:"h-5 w-5 text-teal-600"})," Parent/Guardian Information",(0,t.jsx)(ss,{variant:"secondary",className:"ml-2",children:"Optional"})]})}),(0,t.jsxs)(g,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:(0,t.jsxs)("p",{className:"text-sm text-yellow-700",children:[(0,t.jsx)("strong",{children:"Note:"})," If you start filling out parent/guardian information, all marked fields will become required."]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[q("parent_first_name","Parent/Guardian First Name",n.parent_first_name,e=>A("parent_first_name",e.target.value),{placeholder:"Enter parent/guardian first name"}),q("parent_last_name","Parent/Guardian Last Name",n.parent_last_name,e=>A("parent_last_name",e.target.value),{placeholder:"Enter parent/guardian last name"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[V("relationship_to_insured","Relationship to Client",n.relationship_to_insured,e=>A("relationship_to_insured",e),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e$,{value:"Parent",children:"Parent"}),(0,t.jsx)(e$,{value:"Guardian",children:"Guardian"}),(0,t.jsx)(e$,{value:"Spouse",children:"Spouse"}),(0,t.jsx)(e$,{value:"Self",children:"Self"}),(0,t.jsx)(e$,{value:"Other",children:"Other"})]}),"Select relationship"),"Other"===n.relationship_to_insured&&q("relation_other","Specify Other Relationship",n.relation_other,e=>A("relation_other",e.target.value),{placeholder:"Enter relationship"})]})]})]}),(0,t.jsxs)(h,{children:[(0,t.jsx)(u,{children:(0,t.jsxs)(p,{className:"flex items-center gap-2",children:[(0,t.jsx)(eN.A,{className:"h-5 w-5 text-teal-600"})," Emergency Contact",(0,t.jsx)(ss,{variant:"secondary",className:"ml-2",children:"Optional"})]})}),(0,t.jsxs)(g,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:(0,t.jsxs)("p",{className:"text-sm text-yellow-700",children:[(0,t.jsx)("strong",{children:"Note:"})," If you start filling out emergency contact information, all marked fields will become required."]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[q("emergency_contact_name","Emergency Contact Name",n.emergency_contact_name,e=>A("emergency_contact_name",e.target.value),{placeholder:"Enter emergency contact name"}),q("emg_relationship","Relationship",n.emg_relationship,e=>A("emg_relationship",e.target.value),{placeholder:"Enter relationship"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[q("emg_phone","Emergency Contact Phone",n.emg_phone,e=>A("emg_phone",e.target.value),{placeholder:"Enter emergency contact phone"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"emg_email",children:"Emergency Contact Email"}),(0,t.jsx)(j,{id:"emg_email",type:"email",value:n.emg_email,onChange:e=>A("emg_email",e.target.value),placeholder:"Enter emergency contact email"})]})]})]})]})]}),(0,t.jsxs)(eB,{value:"insurance",className:"space-y-6",children:[(0,t.jsxs)(h,{children:[(0,t.jsx)(u,{children:(0,t.jsxs)(p,{className:"flex items-center gap-2",children:[(0,t.jsx)(_.A,{className:"h-5 w-5 text-teal-600"})," Insurance Information",(0,t.jsx)(ss,{variant:"secondary",className:"ml-2",children:"Optional"})]})}),(0,t.jsx)(g,{className:"space-y-6",children:0===n.insurances.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(_.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"No insurance information added yet"}),(0,t.jsxs)(x,{type:"button",variant:"outline",onClick:E,className:"border-dashed border-slate-300 bg-transparent",children:[(0,t.jsx)(eS.A,{className:"h-4 w-4 mr-2"})," Add Insurance Information"]})]}):(0,t.jsxs)(t.Fragment,{children:[n.insurances.map((e,s)=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 bg-slate-50 relative",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("h4",{className:"font-medium",children:["Insurance #",s+1]}),(0,t.jsx)(ss,{variant:"outline",className:"Primary"===e.insurance_type?"border-blue-300 text-blue-700":"border-green-300 text-green-700",children:e.insurance_type})]}),(0,t.jsx)(x,{type:"button",variant:"outline",size:"sm",onClick:()=>D(s),className:"text-red-600 border-red-300 hover:bg-red-50",children:(0,t.jsx)(sb.A,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[V("insurance_insurance_type_".concat(s),"Insurance Type *",e.insurance_type,e=>S(s,"insurance_type",e),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e$,{value:"Primary",children:"Primary"}),(0,t.jsx)(e$,{value:"Secondary",children:"Secondary"})]}),"Select insurance type"),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[q("insurance_insurance_provider_".concat(s),"Insurance Provider *",e.insurance_provider,e=>S(s,"insurance_provider",e.target.value),{placeholder:"Enter insurance provider"}),q("insurance_treatment_type_".concat(s),"Treatment Type *",e.treatment_type,e=>S(s,"treatment_type",e.target.value),{placeholder:"Enter treatment type"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[q("insurance_insurance_id_number_".concat(s),"Insurance ID *",e.insurance_id_number,e=>S(s,"insurance_id_number",e.target.value),{placeholder:"Enter insurance ID"}),q("insurance_group_number_".concat(s),"Group Number *",e.group_number,e=>S(s,"group_number",e.target.value),{placeholder:"Enter group number"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{children:"Coinsurance"}),(0,t.jsx)(j,{value:e.coinsurance,onChange:e=>S(s,"coinsurance",e.target.value),placeholder:"Enter coinsurance"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{children:"Deductible"}),(0,t.jsx)(j,{value:e.deductible,onChange:e=>S(s,"deductible",e.target.value),placeholder:"Enter deductible"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[q("insurance_start_date_".concat(s),"Start Date *",e.start_date,e=>S(s,"start_date",e.target.value),{type:"date"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{children:"End Date"}),(0,t.jsx)(j,{type:"date",value:e.end_date,onChange:e=>S(s,"end_date",e.target.value)})]})]})]})]},s)),(0,t.jsxs)(x,{type:"button",variant:"outline",onClick:E,className:"w-full border-dashed border-slate-300 bg-transparent",children:[(0,t.jsx)(eS.A,{className:"h-4 w-4 mr-2"})," Add Another Insurance"]})]})})]}),(0,t.jsxs)(h,{children:[(0,t.jsx)(u,{children:(0,t.jsxs)(p,{className:"flex items-center gap-2",children:[(0,t.jsx)(eu.A,{className:"h-5 w-5 text-teal-600"})," Authorization Information",(0,t.jsx)(ss,{variant:"secondary",className:"ml-2",children:"Optional"})]})}),(0,t.jsx)(g,{className:"space-y-6",children:0===n.authorizations.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(eu.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"No authorization information added yet"}),(0,t.jsxs)(x,{type:"button",variant:"outline",onClick:R,className:"border-dashed border-slate-300 bg-transparent",disabled:0===n.insurances.length,children:[(0,t.jsx)(eS.A,{className:"h-4 w-4 mr-2"})," Add Authorization Information"]}),0===n.insurances.length&&(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Add insurance information first"})]}):(0,t.jsxs)(t.Fragment,{children:[n.authorizations.map((e,s)=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 bg-slate-50 relative",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h4",{className:"font-medium",children:["Authorization #",s+1]}),(0,t.jsx)(x,{type:"button",variant:"outline",size:"sm",onClick:()=>I(s),className:"text-red-600 border-red-300 hover:bg-red-50",children:(0,t.jsx)(sb.A,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[q("auth_authorization_number_".concat(s),"Authorization Number *",e.authorization_number,e=>T(s,"authorization_number",e.target.value),{placeholder:"Enter authorization number"}),V("auth_billing_codes_".concat(s),"Billing Codes *",e.billing_codes,e=>T(s,"billing_codes",e),s_.map(e=>(0,t.jsx)(e$,{value:e.code,children:"".concat(e.code," ").concat(e.name)},e.code)),"Select billing code")]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[q("auth_units_approved_per_15_min_".concat(s),"Units Approved (per 15 min) *",e.units_approved_per_15_min,e=>T(s,"units_approved_per_15_min",e.target.value),{type:"number",placeholder:"Enter approved units"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{children:"Units Serviced"}),(0,t.jsx)(j,{type:"number",value:e.units_serviced,onChange:e=>T(s,"units_serviced",e.target.value),placeholder:"Enter serviced units"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{children:"Balance Units"}),(0,t.jsx)(j,{value:e.balance_units,readOnly:!0,placeholder:"Calculated balance",className:"bg-gray-100 cursor-not-allowed"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[q("auth_start_date_".concat(s),"Start Date *",e.start_date||"",e=>T(s,"start_date",e.target.value),{type:"date"}),q("auth_end_date_".concat(s),"End Date *",e.end_date||"",e=>T(s,"end_date",e.target.value),{type:"date"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[V("auth_insurance_id_".concat(s),"Linked Insurance *",e.insurance_id||"",e=>T(s,"insurance_id",e),n.insurances.map((e,s)=>(0,t.jsx)(e$,{value:String(s),children:e.insurance_provider||"Insurance #".concat(s+1)},s)),"Select insurance"),V("auth_status_".concat(s),"Status *",e.status||"Active",e=>T(s,"status",e),sy.map(e=>(0,t.jsx)(e$,{value:e,children:e},e)),"Select status")]})]})]},s)),(0,t.jsxs)(x,{type:"button",variant:"outline",onClick:R,className:"w-full border-dashed border-slate-300 bg-transparent",children:[(0,t.jsx)(eS.A,{className:"h-4 w-4 mr-2"})," Add Another Authorization"]})]})})]})]}),(0,t.jsx)(eB,{value:"documents",className:"space-y-6",children:(0,t.jsxs)(h,{children:[(0,t.jsx)(u,{children:(0,t.jsxs)(p,{className:"flex items-center gap-2",children:[(0,t.jsx)(sv.A,{className:"h-5 w-5 text-teal-600"})," Client Documents",(0,t.jsx)(ss,{variant:"secondary",className:"ml-2",children:"Optional"})]})}),(0,t.jsx)(g,{className:"space-y-6",children:0===n.documents.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(sv.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"No documents added yet"}),(0,t.jsxs)(x,{type:"button",variant:"outline",onClick:P,className:"border-dashed border-slate-300 bg-transparent",children:[(0,t.jsx)(eS.A,{className:"h-4 w-4 mr-2"})," Add Document"]})]}):(0,t.jsxs)(t.Fragment,{children:[n.documents.map((e,s)=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 bg-slate-50 relative",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h4",{className:"font-medium",children:["Document #",s+1]}),(0,t.jsx)(x,{type:"button",variant:"outline",size:"sm",onClick:()=>z(s),className:"text-red-600 border-red-300 hover:bg-red-50",children:(0,t.jsx)(sb.A,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[V("document_document_type_".concat(s),"Document Type *",e.document_type,e=>k(s,"document_type",e),sw.map(e=>(0,t.jsx)(e$,{value:e,children:e},e)),"Select document type"),q("document_file_url_".concat(s),"Document URL/Path *",e.file_url,e=>k(s,"file_url",e.target.value),{placeholder:"Enter URL or path to document"})]})]},s)),(0,t.jsxs)(x,{type:"button",variant:"outline",onClick:P,className:"w-full border-dashed border-slate-300 bg-transparent",children:[(0,t.jsx)(eS.A,{className:"h-4 w-4 mr-2"})," Add Another Document"]})]})})]})}),(0,t.jsx)(eB,{value:"notes",className:"space-y-6",children:(0,t.jsxs)(h,{children:[(0,t.jsx)(u,{children:(0,t.jsxs)(p,{className:"flex items-center gap-2",children:[(0,t.jsx)(eu.A,{className:"h-5 w-5 text-teal-600"})," Notes & Additional Information",(0,t.jsx)(ss,{variant:"secondary",className:"ml-2",children:"Optional"})]})}),(0,t.jsxs)(g,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"client_notes",children:"Client Notes"}),(0,t.jsx)(eK,{id:"client_notes",value:n.client_notes,onChange:e=>A("client_notes",e.target.value),placeholder:"Enter any notes about the client",rows:4})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"other_information",children:"Other Information"}),(0,t.jsx)(eK,{id:"other_information",value:n.other_information,onChange:e=>A("other_information",e.target.value),placeholder:"Enter any additional information",rows:4})]})]})]})})]}),(0,t.jsxs)("div",{className:"flex justify-between gap-3 pt-6 border-t",children:[(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(x,{type:"button",variant:"outline",onClick:B,children:"Cancel"}),"personal"!==m&&(0,t.jsx)(x,{type:"button",variant:"outline",onClick:()=>{let e=y.indexOf(m);e>0&&f(y[e-1])},children:"Previous"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(x,{type:"submit",className:"bg-teal-600 hover:bg-teal-700",children:i?"Update Client":"Add Client"}),!L&&(0,t.jsx)(x,{type:"button",onClick:e=>{if(e.preventDefault(),M(m))return;let s=y.indexOf(m);s<y.length-1?f(y[s+1]):O(e)},variant:"outline",children:"Next"})]})]})]})]})})}var sE=a(4540);let sD=()=>(0,sE.wA)(),sR=sE.d4;var sI=a(7005);function sP(){let[e,s]=(0,l.useState)(""),[a,i]=(0,l.useState)("all"),[n,d]=(0,l.useState)(!1),[c,o]=(0,l.useState)(!1),[m,f]=(0,l.useState)(null),[v,b]=(0,l.useState)(null),N=sD(),S=(0,sE.d4)(e=>e.clients.items),T=sR(e=>e.clients.loading),k="https://www.mahabehavioralhealth.com/mahaverse-backend-test",E=(0,l.useMemo)(()=>S.filter(e=>!e.archived).length,[S]),D=(0,l.useMemo)(()=>S.filter(e=>e.archived).length,[S]),R=(0,l.useMemo)(()=>S.filter(s=>{let t=Object.values(s).some(s=>"string"==typeof s?s.toLowerCase().includes(e.toLowerCase()):"number"==typeof s&&String(s).includes(e)),l="all"===a||s.client_status===a,r=s.archived===n;return t&&l&&r}),[S,e,a,n]),I=async e=>{let s={...e,id:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let s=16*Math.random()|0;return("x"===e?s:3&s|8).toString(16)}),client_id:"",client_uuid:Math.floor(1e16*Math.random()).toString().padStart(16,"0"),archived:!1};s.client_id=s.id;try{let e=await fetch("".concat(k,"/update-clients.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...s,archived:0})}),a=await e.json();a.success?(N((0,sI.d5)(s)),o(!1),(0,sI.$3)(),r.Ay.success("Client added successfully!")):r.Ay.error("Failed to add client: ".concat(a.message||"Unknown error"))}catch(e){console.error("Error adding client:",e),r.Ay.error("An error occurred while adding the client.")}},P=async e=>{try{let s=await fetch("".concat(k,"/update-clients.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,archived:+!!e.archived})}),a=await s.json();a.success?(N((0,sI.zO)(e)),f(e),(0,sI.$3)(),r.Ay.success("Client updated successfully!")):r.Ay.error("Failed to update client: ".concat(a.message||"Unknown error"))}catch(e){console.error("Error updating client:",e),r.Ay.error("An error occurred while updating the client.")}},z=e=>{f(e),o(!0)},M=async e=>{let s=S.find(s=>s.id===e);if(!s)return;let a={...s,archived:!s.archived,client_status:s.archived?"Active":"Inactive"};try{let s=await fetch("".concat(k,"/update-clients.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...a,archived:+!!a.archived})}),t=await s.json();s.ok&&t.success?(N((0,sI.ZQ)({id:e,archived:a.archived,client_status:a.client_status})),r.Ay.success(a.archived?"Client archived!":"Client restored!")):r.Ay.error("Failed to update client: ".concat(t.message||"Unknown error"))}catch(e){console.error("Error archiving/restoring client:",e),r.Ay.error("An error occurred while updating client status.")}},F=e=>{switch(e){case"Active":return"bg-green-100 text-green-800";case"New":case"Prior Authorization":return"bg-yellow-100 text-yellow-800";case"Inactive":default:return"bg-gray-100 text-gray-800";case"Benefits Verification":return"bg-blue-100 text-blue-800";case"Client Assessment":return"bg-purple-100 text-purple-800";case"Pending Authorization":return"bg-orange-100 text-orange-800"}},O=e=>{if(!e)return"N/A";let s=new Date,a=new Date(e),t=s.getFullYear()-a.getFullYear(),l=s.getMonth()-a.getMonth();return(l<0||0===l&&s.getDate()<a.getDate())&&t--,t};(0,l.useEffect)(()=>{N((0,sI.$3)())},[N]);let B=e=>{b(s=>s===e?null:e)};return(0,t.jsxs)("div",{className:"space-y-8 px-2 sm:px-0 md:px-6",children:[(0,t.jsx)(r.l$,{}),(0,t.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row lg:justify-between sm:justify-center sm:items-center ",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-slate-800",children:"Client Management"}),(0,t.jsx)("p",{className:"text-slate-600 mt-1",children:"Manage client profiles and information"})]}),(0,t.jsxs)("div",{className:"flex flex-row flex-wrap gap-2 sm:items-center sm:space-x-3 sm:justify-end",children:[(0,t.jsx)(x,{variant:"outline",size:"sm",onClick:()=>d(!n),className:"border-slate-300",children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sp.A,{className:"h-4 w-4 mr-2"})," Show Active (",E,")"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sf.A,{className:"h-4 w-4 mr-2"})," Show Archived (",D,")"]})}),(0,t.jsxs)(x,{onClick:()=>o(!0),size:"sm",className:"bg-teal-600 hover:bg-teal-700 shadow-lg",children:[(0,t.jsx)(eS.A,{className:"h-4 w-4 mr-2"})," Add Client"]})]})]}),(0,t.jsx)(h,{className:"shadow-lg border-0",children:(0,t.jsx)(g,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:space-x-4",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(A.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,t.jsx)(j,{placeholder:"Search all client fields...",className:"pl-10 border-slate-200 focus:border-teal-500 focus:ring-teal-500",value:e,onChange:e=>s(e.target.value)})]}),(0,t.jsxs)(eZ,{value:a,onValueChange:i,children:[(0,t.jsx)(eG,{className:"w-full sm:w-48 border-slate-200",children:(0,t.jsx)(eJ,{placeholder:"Filter by status"})}),(0,t.jsxs)(eH,{children:[(0,t.jsx)(e$,{value:"all",children:"All"}),(0,t.jsx)(e$,{value:"New",children:"New"}),(0,t.jsx)(e$,{value:"Active",children:"Active"}),(0,t.jsx)(e$,{value:"Inactive",children:"Inactive"}),(0,t.jsx)(e$,{value:"Benefits Verification",children:"Benefits Verification"}),(0,t.jsx)(e$,{value:"Prior Authorization",children:"Prior Authorization"}),(0,t.jsx)(e$,{value:"Client Assessment",children:"Client Assessment"}),(0,t.jsx)(e$,{value:"Pending Authorization",children:"Pending Authorization"})]})]})]})})}),T?(0,t.jsx)("div",{className:"h-64 w-64 mx-auto",children:(0,t.jsx)("p",{className:"text-center animate-pulse text-gray-500",children:"Fetching clients"})}):(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsxs)(p,{className:"text-slate-800 flex items-center",children:[(0,t.jsx)(er.A,{className:"h-5 w-5 mr-2 text-teal-600"}),n?"Archived":"Active"," Clients (",R.length,")"]})}),(0,t.jsx)(g,{className:"p-0",children:(0,t.jsxs)("div",{className:"overflow-auto",children:[(0,t.jsxs)(sa,{children:[(0,t.jsx)(st,{children:(0,t.jsxs)(sr,{className:"bg-slate-50 border-b",children:[(0,t.jsx)(si,{className:"font-semibold text-slate-700",children:"Client"}),(0,t.jsx)(si,{className:"hidden sm:table-cell font-semibold text-slate-700",children:"Client ID"}),(0,t.jsx)(si,{className:"hidden sm:table-cell font-semibold text-slate-700",children:"Status"}),(0,t.jsx)(si,{className:"hidden sm:table-cell font-semibold text-slate-700",children:"Contact"}),(0,t.jsx)(si,{className:"font-semibold text-slate-700 lg:text-center text-right",children:"Actions"})]})}),(0,t.jsx)(sl,{children:R.map(e=>{let s=v===e.id;return(0,t.jsxs)(l.Fragment,{children:[(0,t.jsxs)(sr,{className:"hover:bg-slate-50 transition-colors border-b",children:[(0,t.jsx)(sn,{className:"lg:px-4 sm:px-2 py-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("span",{className:"hidden sm:inline-block",children:(0,t.jsx)("div",{className:"bg-teal-100 p-2 rounded-lg flex-shrink-0",children:(0,t.jsx)(er.A,{className:"h-4 w-4 text-teal-600"})})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"font-semibold text-slate-800",children:[e.first_name," ",e.middle_name," ",e.last_name]}),(0,t.jsxs)("div",{className:"lg:visible sm:hidden flex flex-wrap gap-1 mt-1",children:["Yes"===e.wait_list_status&&(0,t.jsx)(ss,{variant:"outline",className:" border-yellow-300 text-yellow-700 text-xs",children:"Wait List"}),e.archived&&(0,t.jsx)(ss,{variant:"outline",className:"border-amber-300 text-amber-700 text-xs",children:"Archived"})]})]})]})}),(0,t.jsx)(sn,{className:"py-4 hidden sm:table-cell",children:(0,t.jsx)("span",{className:"font-mono text-sm",children:e.client_uuid})}),(0,t.jsx)(sn,{className:"hidden sm:table-cell py-4",children:(0,t.jsx)(ss,{className:F(e.client_status),children:e.client_status})}),(0,t.jsx)(sn,{className:"hidden sm:table-cell py-4",children:(0,t.jsxs)("div",{className:"text-sm",children:[e.phone&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(sg.A,{className:"h-3 w-3 text-slate-400"}),e.phone]}),e.email&&(0,t.jsx)("div",{className:"text-slate-600 mt-1",children:e.email})]})}),(0,t.jsx)(sn,{className:"py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(x,{variant:"outline",size:"sm",onClick:()=>B(e.id||""),className:"border-slate-300",children:s?(0,t.jsx)("span",{title:"Hide",children:(0,t.jsx)(y.A,{className:"h-3 w-3 mr-1"})}):(0,t.jsx)("span",{title:"View",children:(0,t.jsx)(w.A,{className:"h-3 w-3 mr-1"})})}),(0,t.jsx)(x,{variant:"outline",size:"sm",onClick:()=>z(e),className:"border-slate-300",children:(0,t.jsx)("span",{title:"Edit",children:(0,t.jsx)(eC.A,{className:"h-4 w-4 mr-2"})})}),(0,t.jsxs)(so,{children:[(0,t.jsx)(sm,{asChild:!0,children:(0,t.jsx)(x,{title:"Options",variant:"outline",size:"sm",className:"border-slate-300 bg-transparent",children:(0,t.jsx)(sj.A,{className:"h-3 w-3"})})}),(0,t.jsxs)(sx,{align:"end",className:"w-48",children:[(0,t.jsxs)(sh,{children:[(0,t.jsx)(en.A,{className:"h-4 w-4 mr-2"})," Schedule Appointment"]}),(0,t.jsx)(su,{}),(0,t.jsx)(sh,{onClick:()=>M(e.id||""),className:e.archived?"text-green-600":"text-amber-600",children:e.archived?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sp.A,{className:"h-4 w-4 mr-2"})," Restore Client"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sf.A,{className:"h-4 w-4 mr-2"})," Archive Client"]})})]})]})]})})]}),s&&(0,t.jsx)(sr,{className:"bg-slate-50",children:(0,t.jsx)(sn,{colSpan:6,className:"px-6 py-6",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(h,{className:"border-slate-200",children:[(0,t.jsx)(u,{className:"pb-3",children:(0,t.jsxs)(p,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(C.A,{className:"h-4 w-4 text-teal-600"})," Personal Information"]})}),(0,t.jsxs)(g,{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"First Name"}),(0,t.jsx)("p",{className:"font-medium",children:e.first_name||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Middle Name"}),(0,t.jsx)("p",{className:"font-medium",children:e.middle_name||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Last Name"}),(0,t.jsx)("p",{className:"font-medium",children:e.last_name||"N/A"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Date of Birth"}),(0,t.jsx)("p",{className:"font-medium",children:e.date_of_birth||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Age"}),(0,t.jsxs)("p",{className:"font-medium",children:[O(e.date_of_birth)," years"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Gender"}),(0,t.jsx)("p",{className:"font-medium",children:e.gender||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Preferred Language"}),(0,t.jsx)("p",{className:"font-medium",children:e.preferred_language||"N/A"})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(h,{className:"border-slate-200",children:[(0,t.jsx)(u,{className:"pb-3",children:(0,t.jsxs)(p,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(ev.A,{className:"h-4 w-4 text-teal-600"})," Address Information"]})}),(0,t.jsxs)(g,{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Street Address"}),(0,t.jsxs)("p",{className:"font-medium",children:[e.address_line_1||"Not specified",e.address_line_2&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("br",{}),e.address_line_2]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"City"}),(0,t.jsx)("p",{className:"font-medium",children:e.city||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"State"}),(0,t.jsx)("p",{className:"font-medium",children:e.state||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Country"}),(0,t.jsx)("p",{className:"font-medium",children:e.country||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"ZIP"}),(0,t.jsx)("p",{className:"font-medium",children:e.zipcode||"Not specified"})]})]})]})]}),(0,t.jsxs)(h,{className:"border-slate-200",children:[(0,t.jsx)(u,{className:"pb-3",children:(0,t.jsxs)(p,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(sg.A,{className:"h-4 w-4 text-teal-600"})," Contact Information"]})}),(0,t.jsxs)(g,{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Phone"}),(0,t.jsx)("p",{className:"font-medium",children:e.phone||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Email"}),(0,t.jsx)("p",{className:"font-medium",children:e.email||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Appointment Reminder"}),(0,t.jsx)("p",{className:"font-medium capitalize",children:e.appointment_reminder||"Not specified"})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(h,{className:"border-slate-200",children:[(0,t.jsx)(u,{className:"pb-3",children:(0,t.jsxs)(p,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(C.A,{className:"h-4 w-4 text-teal-600"})," Parent/Guardian Information"]})}),(0,t.jsxs)(g,{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Name"}),(0,t.jsxs)("p",{className:"font-medium",children:[e.parent_first_name," ",e.parent_last_name||"Not specified"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Relationship"}),(0,t.jsx)("p",{className:"font-medium",children:"Other"===e.relationship_to_insured?e.relation_other:e.relationship_to_insured||"Not specified"})]})]})]}),(0,t.jsxs)(h,{className:"border-slate-200",children:[(0,t.jsx)(u,{className:"pb-3",children:(0,t.jsxs)(p,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(eN.A,{className:"h-4 w-4 text-teal-600"})," Emergency Contact"]})}),(0,t.jsx)(g,{className:"space-y-3 text-sm",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Name"}),(0,t.jsx)("p",{className:"font-medium",children:e.emergency_contact_name||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Relationship"}),(0,t.jsx)("p",{className:"font-medium",children:e.emg_relationship||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Phone"}),(0,t.jsx)("p",{className:"font-medium",children:e.emg_phone||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Email"}),(0,t.jsx)("p",{className:"font-medium",children:e.emg_email||"Not specified"})]})]})})]})]}),e.insurances&&Array.isArray(e.insurances)&&e.insurances.length>0&&(0,t.jsxs)(h,{className:"border-slate-200",children:[(0,t.jsx)(u,{className:"pb-3",children:(0,t.jsxs)(p,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(_.A,{className:"h-4 w-4 text-teal-600"})," Insurance Information"]})}),(0,t.jsx)(g,{children:(0,t.jsx)("div",{className:"space-y-4",children:e.insurances.map((e,s)=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 bg-slate-50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("h4",{className:"font-semibold",children:["Insurance #",s+1]}),(0,t.jsx)(ss,{variant:"outline",className:"Primary"===e.insurance_type?"border-blue-300 text-blue-700":"border-green-300 text-green-700",children:e.insurance_type})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Provider"}),(0,t.jsx)("p",{className:"font-medium",children:e.insurance_provider||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Treatment Type"}),(0,t.jsx)("p",{className:"font-medium",children:e.treatment_type||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Insurance ID"}),(0,t.jsx)("p",{className:"font-medium",children:e.insurance_id_number||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Group Number"}),(0,t.jsx)("p",{className:"font-medium",children:e.group_number||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Coinsurance"}),(0,t.jsx)("p",{className:"font-medium",children:e.coinsurance||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Deductible"}),(0,t.jsx)("p",{className:"font-medium",children:e.deductible||"Not specified"})]})]}),e.start_date&&(0,t.jsxs)("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Start Date"}),(0,t.jsx)("p",{className:"font-medium",children:e.start_date})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"End Date"}),(0,t.jsx)("p",{className:"font-medium",children:e.end_date||"Ongoing"})]})]})]},s))})})]}),e.authorizations&&e.authorizations.length>0?(0,t.jsxs)(h,{className:"border-slate-200",children:[(0,t.jsx)(u,{className:"pb-3",children:(0,t.jsxs)(p,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(eu.A,{className:"h-4 w-4 text-teal-600"})," Authorization Information"]})}),(0,t.jsx)(g,{children:(0,t.jsx)("div",{className:"space-y-4",children:e.authorizations.map((s,a)=>{let l=e.insurances&&e.insurances[Number.parseInt(s.insurance_id,10)]?e.insurances[Number.parseInt(s.insurance_id,10)]:null,r=Number.parseFloat(s.units_approved_per_15_min)||0,i=Number.parseFloat(s.units_serviced)||0;return(0,t.jsxs)("div",{className:"border rounded-lg p-4 bg-slate-50",children:[(0,t.jsxs)("h4",{className:"font-semibold mb-3",children:["Authorization #",a+1]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Authorization Number"}),(0,t.jsx)("p",{className:"font-medium",children:s.authorization_number||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Billing Codes"}),(0,t.jsx)("p",{className:"font-medium",children:s.billing_codes||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Units Approved (per 15 min)"}),(0,t.jsx)("p",{className:"font-medium",children:s.units_approved_per_15_min||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Units Serviced"}),(0,t.jsx)("p",{className:"font-medium",children:s.units_serviced||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Balance Units"}),(0,t.jsx)("p",{className:"font-medium",children:r-i||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Status"}),(0,t.jsx)("p",{className:"font-medium",children:s.status||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Linked Insurance"}),(0,t.jsx)("p",{className:"font-medium",children:l?l.insurance_provider||"Insurance #".concat(s.insurance_id?Number.parseInt(s.insurance_id,10)+1:"-"):"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Period"}),(0,t.jsx)("p",{className:"font-medium",children:s.start_date&&s.end_date?"".concat(s.start_date," to ").concat(s.end_date):"Not specified"})]})]})]},a)})})})]}):(0,t.jsx)(h,{className:"border-slate-200",children:(0,t.jsx)(u,{className:"pb-3",children:(0,t.jsx)(p,{className:"text-slate-600 text-base text-center italic",children:"No authorizations found."})})}),e.documents&&e.documents.length>0&&(0,t.jsxs)(h,{className:"border-slate-200",children:[(0,t.jsx)(u,{className:"pb-3",children:(0,t.jsxs)(p,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(sv.A,{className:"h-4 w-4 text-teal-600"})," Client Documents"]})}),(0,t.jsx)(g,{children:(0,t.jsx)("div",{className:"space-y-4",children:e.documents.map((e,s)=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 bg-slate-50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("h4",{className:"font-semibold",children:["Document #",s+1]}),(0,t.jsx)(ss,{variant:"outline",className:"border-gray-300 text-gray-700",children:e.document_type||"N/A"})]}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"File URL"}),e.file_url?(0,t.jsx)("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-600 hover:underline break-all",children:e.file_url}):(0,t.jsx)("p",{className:"font-medium",children:"Not provided"})]})]},s))})})]}),(e.client_notes||e.other_information)&&(0,t.jsxs)(h,{className:"border-slate-200",children:[(0,t.jsx)(u,{className:"pb-3",children:(0,t.jsxs)(p,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(eu.A,{className:"h-4 w-4 text-teal-600"})," Notes & Information"]})}),(0,t.jsxs)(g,{className:"space-y-4 text-sm",children:[e.client_notes&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-2 font-medium",children:"Client Notes"}),(0,t.jsx)("p",{className:"bg-slate-50 p-3 rounded-lg",children:e.client_notes})]}),e.other_information&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-2 font-medium",children:"Other Information"}),(0,t.jsx)("p",{className:"bg-slate-50 p-3 rounded-lg",children:e.other_information})]})]})]})]})})})]},e.id)})})]}),0===R.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(er.A,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-500",children:n?"No archived clients found.":"No clients match your search."})]})]})})]}),(0,t.jsx)(sk,{isOpen:c,onClose:()=>{o(!1),f(null)},onSave:m?P:I,editingClient:m})]})}var sz=a(4229),sM=a(2486);function sF(){return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-slate-800",children:"Session Notes"}),(0,t.jsx)("p",{className:"text-slate-600 mt-1",children:"Document and track therapy sessions"})]}),(0,t.jsxs)(x,{className:"bg-teal-600 hover:bg-teal-700 shadow-lg",children:[(0,t.jsx)(eS.A,{className:"h-4 w-4 mr-2"}),"New Session Note"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)(h,{className:"lg:col-span-2 shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsxs)(p,{className:"text-slate-800 flex items-center",children:[(0,t.jsx)(eu.A,{className:"h-5 w-5 mr-2 text-teal-600"}),"SOAP Note Template"]})}),(0,t.jsxs)(g,{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"subjective",className:"text-slate-700 font-medium",children:"Subjective"}),(0,t.jsx)(eK,{id:"subjective",className:"mt-2 min-h-[100px] border-slate-200 focus:border-teal-500 focus:ring-teal-500",placeholder:"Client's behavior, mood, and any relevant observations from today's session..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"objective",className:"text-slate-700 font-medium",children:"Objective"}),(0,t.jsx)(eK,{id:"objective",className:"mt-2 min-h-[100px] border-slate-200 focus:border-teal-500 focus:ring-teal-500",placeholder:"Measurable data, trial counts, percentages, and concrete observations..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"assessment",className:"text-slate-700 font-medium",children:"Assessment"}),(0,t.jsx)(eK,{id:"assessment",className:"mt-2 min-h-[100px] border-slate-200 focus:border-teal-500 focus:ring-teal-500",placeholder:"Analysis of progress toward goals and clinical interpretation..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"plan",className:"text-slate-700 font-medium",children:"Plan"}),(0,t.jsx)(eK,{id:"plan",className:"mt-2 min-h-[100px] border-slate-200 focus:border-teal-500 focus:ring-teal-500",placeholder:"Next steps, recommendations, and future session planning..."})]}),(0,t.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,t.jsxs)(x,{variant:"outline",className:"border-slate-300 bg-transparent",children:[(0,t.jsx)(sz.A,{className:"h-4 w-4 mr-2"}),"Save Draft"]}),(0,t.jsxs)(x,{className:"bg-teal-600 hover:bg-teal-700",children:[(0,t.jsx)(sM.A,{className:"h-4 w-4 mr-2"}),"Submit for Approval"]})]})]})]}),(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsx)(p,{className:"text-slate-800",children:"Session Details"})}),(0,t.jsxs)(g,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{className:"text-slate-700 font-medium",children:"Client"}),(0,t.jsxs)(eZ,{children:[(0,t.jsx)(eG,{className:"mt-1 border-slate-200 focus:border-teal-500 focus:ring-teal-500",children:(0,t.jsx)(eJ,{placeholder:"Select client"})}),(0,t.jsxs)(eH,{children:[(0,t.jsx)(e$,{value:"alex",children:"Alex Rodriguez"}),(0,t.jsx)(e$,{value:"emma",children:"Emma Wilson"}),(0,t.jsx)(e$,{value:"michael",children:"Michael Chen"}),(0,t.jsx)(e$,{value:"sophia",children:"Sophia Kim"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{className:"text-slate-700 font-medium",children:"Date & Time"}),(0,t.jsx)(j,{type:"datetime-local",className:"mt-1 border-slate-200 focus:border-teal-500 focus:ring-teal-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{className:"text-slate-700 font-medium",children:"Duration (minutes)"}),(0,t.jsx)(j,{type:"number",placeholder:"90",className:"mt-1 border-slate-200 focus:border-teal-500 focus:ring-teal-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{className:"text-slate-700 font-medium",children:"Location"}),(0,t.jsxs)(eZ,{children:[(0,t.jsx)(eG,{className:"mt-1 border-slate-200 focus:border-teal-500 focus:ring-teal-500",children:(0,t.jsx)(eJ,{placeholder:"Select location"})}),(0,t.jsxs)(eH,{children:[(0,t.jsx)(e$,{value:"home",children:"Home Visit"}),(0,t.jsx)(e$,{value:"clinic",children:"Clinic"}),(0,t.jsx)(e$,{value:"school",children:"School"}),(0,t.jsx)(e$,{value:"community",children:"Community"})]})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-200 pt-4",children:[(0,t.jsx)("h4",{className:"font-medium text-slate-800 mb-3",children:"Digital Signature"}),(0,t.jsxs)("div",{className:"border-2 border-dashed border-slate-300 rounded-xl p-6 text-center hover:border-teal-400 transition-colors cursor-pointer",children:[(0,t.jsx)(eu.A,{className:"h-8 w-8 text-slate-400 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Click to add signature"})]})]}),(0,t.jsxs)("div",{className:"bg-teal-50 rounded-xl p-4",children:[(0,t.jsx)("h4",{className:"font-medium text-teal-800 mb-2",children:"Session Goals"}),(0,t.jsxs)("ul",{className:"text-sm text-teal-700 space-y-1",children:[(0,t.jsx)("li",{children:"• Increase verbal requests by 20%"}),(0,t.jsx)("li",{children:"• Practice social greetings"}),(0,t.jsx)("li",{children:"• Work on daily living skills"})]})]})]})]})]})]})}var sO=a(1788);function sB(){let e=[{title:"Monthly Revenue",value:"$48,392",change:"+8%",changeType:"positive",icon:ei.A,color:"bg-emerald-500"},{title:"Outstanding",value:"$12,450",change:"15 invoices",changeType:"warning",icon:ec.A,color:"bg-amber-500"},{title:"Pending Claims",value:"23",change:"In review",changeType:"neutral",icon:ei.A,color:"bg-blue-500"},{title:"Collection Rate",value:"94%",change:"+2%",changeType:"positive",icon:eo.A,color:"bg-teal-500"}];return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-slate-800",children:"Billing & RCM"}),(0,t.jsx)("p",{className:"text-slate-600 mt-1",children:"Manage invoices and revenue cycle"})]}),(0,t.jsxs)(x,{className:"bg-teal-600 hover:bg-teal-700 shadow-lg",children:[(0,t.jsx)(eS.A,{className:"h-4 w-4 mr-2"}),"Generate Invoice"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((e,s)=>(0,t.jsx)(em,{...e},s))}),(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(p,{className:"text-slate-800 flex items-center",children:[(0,t.jsx)(ei.A,{className:"h-5 w-5 mr-2 text-teal-600"}),"Recent Invoices"]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)(x,{variant:"outline",size:"sm",className:"border-slate-300 bg-transparent",children:[(0,t.jsx)(sO.A,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,t.jsx)(x,{variant:"outline",size:"sm",className:"border-slate-300 bg-transparent",children:"View All"})]})]})}),(0,t.jsx)(g,{children:(0,t.jsx)("div",{className:"space-y-4",children:[{id:"INV-2024-001",client:"Alex Rodriguez",sessions:8,amount:"$1,200.00",status:"Paid",statusColor:"bg-green-100 text-green-800",date:"Jan 15, 2024"},{id:"INV-2024-002",client:"Emma Wilson",sessions:6,amount:"$900.00",status:"Pending",statusColor:"bg-amber-100 text-amber-800",date:"Jan 20, 2024"},{id:"INV-2024-003",client:"Michael Chen",sessions:10,amount:"$1,500.00",status:"Submitted",statusColor:"bg-blue-100 text-blue-800",date:"Jan 25, 2024"},{id:"INV-2024-004",client:"Sophia Kim",sessions:7,amount:"$1,050.00",status:"Draft",statusColor:"bg-slate-100 text-slate-800",date:"Jan 28, 2024"}].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-5 border border-slate-200 rounded-xl hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"bg-teal-100 p-3 rounded-xl",children:(0,t.jsx)(ei.A,{className:"h-5 w-5 text-teal-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-slate-800",children:e.id}),(0,t.jsxs)("p",{className:"text-sm text-slate-600",children:[e.client," • ",e.sessions," sessions"]}),(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["Generated: ",e.date]})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"font-semibold text-slate-800",children:e.amount}),(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(e.statusColor),children:e.status})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)(x,{variant:"outline",size:"sm",className:"border-slate-300 bg-transparent",children:[(0,t.jsx)(w.A,{className:"h-4 w-4 mr-1"}),"View"]}),(0,t.jsxs)(x,{variant:"outline",size:"sm",className:"border-slate-300 bg-transparent",children:[(0,t.jsx)(sO.A,{className:"h-4 w-4 mr-1"}),"Download"]})]})]})]},s))})})]}),(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{children:(0,t.jsxs)(p,{className:"text-slate-800 flex items-center",children:[(0,t.jsx)(eo.A,{className:"h-5 w-5 mr-2 text-emerald-600"}),"Revenue Analytics"]})}),(0,t.jsx)(g,{children:(0,t.jsx)("div",{className:"h-64 bg-slate-50 rounded-xl flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-slate-500",children:"Revenue charts and analytics will be displayed here"})})})]})]})}var sL=a(1366);function sq(){return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-teal-50 via-blue-50 to-purple-50 rounded-2xl p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"bg-teal-600 p-4 rounded-xl shadow-lg",children:(0,t.jsx)(eN.A,{className:"h-8 w-8 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-slate-800",children:"My Child's Progress"}),(0,t.jsx)("p",{className:"text-slate-600 mt-1",children:"Track therapy progress and communicate with the care team"})]})]})}),(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsxs)(p,{className:"text-slate-800 flex items-center",children:[(0,t.jsx)(eo.A,{className:"h-5 w-5 mr-2 text-emerald-600"}),"Treatment Goals Progress"]})}),(0,t.jsx)(g,{children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{name:"Verbal Communication",progress:85,target:90,color:"bg-emerald-600"},{name:"Social Interaction",progress:72,target:80,color:"bg-blue-600"},{name:"Daily Living Skills",progress:68,target:75,color:"bg-amber-600"},{name:"Academic Skills",progress:78,target:85,color:"bg-purple-600"}].map((e,s)=>(0,t.jsxs)("div",{className:"bg-slate-50 rounded-xl p-5",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,t.jsx)("h4",{className:"font-semibold text-slate-800",children:e.name}),(0,t.jsxs)("span",{className:"text-sm text-slate-600",children:[e.progress,"%"]})]}),(0,t.jsx)(ey,{progress:e.progress,color:e.color,height:"h-3"}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-2",children:["Target: ",e.target,"% by March 2024"]})]},s))})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsxs)(p,{className:"text-slate-800 flex items-center",children:[(0,t.jsx)(en.A,{className:"h-5 w-5 mr-2 text-teal-600"}),"Upcoming Sessions"]})}),(0,t.jsx)(g,{children:(0,t.jsx)("div",{className:"space-y-4",children:[{type:"ABA Therapy Session",time:"Tomorrow 2:00 PM - 3:30 PM",therapist:"Sarah Johnson, RBT",location:"Home Visit",status:"Confirmed"},{type:"BCBA Supervision",time:"Friday 10:00 AM - 11:00 AM",therapist:"Dr. Emily Chen, BCBA",location:"Clinic",status:"Scheduled"},{type:"Parent Training",time:"Saturday 9:00 AM - 10:00 AM",therapist:"Dr. Emily Chen, BCBA",location:"Virtual",status:"Confirmed"}].map((e,s)=>(0,t.jsx)("div",{className:"border border-slate-200 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-semibold text-slate-800",children:e.type}),(0,t.jsxs)("p",{className:"text-sm text-slate-600 flex items-center mt-1",children:[(0,t.jsx)(ep.A,{className:"h-4 w-4 mr-1"}),e.time]}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["with ",e.therapist," • ",e.location]})]}),(0,t.jsx)("span",{className:"bg-teal-100 text-teal-800 px-3 py-1 rounded-full text-xs font-medium",children:e.status})]})},s))})})]}),(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsxs)(p,{className:"text-slate-800 flex items-center",children:[(0,t.jsx)(ei.A,{className:"h-5 w-5 mr-2 text-emerald-600"}),"Billing & Payments"]})}),(0,t.jsxs)(g,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-green-50 rounded-xl p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Current Balance"}),(0,t.jsx)("span",{className:"text-2xl font-bold text-green-600",children:"$0.00"})]}),(0,t.jsx)("p",{className:"text-xs text-green-600",children:"All invoices are up to date"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Last Payment"}),(0,t.jsx)("span",{className:"font-medium text-slate-800",children:"$1,200.00 - Jan 20, 2024"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Next Invoice"}),(0,t.jsx)("span",{className:"font-medium text-slate-800",children:"Expected Feb 1, 2024"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-slate-600",children:"Insurance Coverage"}),(0,t.jsx)("span",{className:"font-medium text-slate-800",children:"80% covered"})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)(x,{className:"flex-1 bg-teal-600 hover:bg-teal-700",children:[(0,t.jsx)(ei.A,{className:"h-4 w-4 mr-2"}),"Payment History"]}),(0,t.jsx)(x,{variant:"outline",className:"border-slate-300 bg-transparent",children:(0,t.jsx)(sO.A,{className:"h-4 w-4"})})]})]})]})]}),(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsxs)(p,{className:"text-slate-800 flex items-center",children:[(0,t.jsx)(eu.A,{className:"h-5 w-5 mr-2 text-blue-600"}),"Recent Session Reports"]})}),(0,t.jsx)(g,{children:(0,t.jsx)("div",{className:"space-y-6",children:[{title:"ABA Therapy Session",date:"Jan 25, 2024",duration:"90 minutes",therapist:"Sarah Johnson, RBT",summary:"Great progress on communication goals. Alex showed increased verbal requests and improved social interaction during structured activities. Worked on daily living skills with 85% accuracy."},{title:"BCBA Supervision Note",date:"Jan 22, 2024",duration:"60 minutes",therapist:"Dr. Emily Chen, BCBA",summary:"Treatment plan review and goal adjustments. Recommend increasing social interaction targets and introducing new daily living skills. Parent training session scheduled for next week."}].map((e,s)=>(0,t.jsxs)("div",{className:"bg-slate-50 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-slate-800",children:e.title}),(0,t.jsxs)("p",{className:"text-sm text-slate-600",children:[e.date," • ",e.duration]}),(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["with ",e.therapist]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsxs)(x,{variant:"outline",size:"sm",className:"border-slate-300 bg-transparent",children:[(0,t.jsx)(sO.A,{className:"h-4 w-4 mr-1"}),"Download"]}),(0,t.jsxs)(x,{variant:"outline",size:"sm",className:"border-slate-300 bg-transparent",children:[(0,t.jsx)(sL.A,{className:"h-4 w-4 mr-1"}),"Discuss"]})]})]}),(0,t.jsx)("p",{className:"text-sm text-slate-600 leading-relaxed",children:e.summary})]},s))})})]})]})}var sV=a(6981);let sU=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(sV.bL,{ref:s,className:o("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...l,children:(0,t.jsx)(sV.C1,{className:o("flex items-center justify-center text-current"),children:(0,t.jsx)(eU.A,{className:"h-4 w-4"})})})});sU.displayName=sV.bL.displayName;let sZ={firstName:"",lastName:"",email:"",phone:"",address:"",staffType:"RBT",certificationNumber:"",npiNumber:"",dateOfJoining:"",dateOfLeaving:"",status:"Active",mondayAvailable:!1,mondayStart:"",mondayEnd:"",tuesdayAvailable:!1,tuesdayStart:"",tuesdayEnd:"",wednesdayAvailable:!1,wednesdayStart:"",wednesdayEnd:"",thursdayAvailable:!1,thursdayStart:"",thursdayEnd:"",fridayAvailable:!1,fridayStart:"",fridayEnd:"",saturdayAvailable:!1,saturdayStart:"",saturdayEnd:"",sundayAvailable:!1,sundayStart:"",sundayEnd:"",homeVisits:!1,clinic:!1,school:!1,community:!1},sJ=(()=>{let e=[];for(let s=0;s<24;s++)for(let a=0;a<60;a+=15){let t=s.toString().padStart(2,"0"),l=a.toString().padStart(2,"0");e.push("".concat(t,":").concat(l))}return e})(),sG=e=>{if(!e)return"";let[s,a]=e.split(":").map(Number);return"".concat((s%12==0?12:s%12).toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0")," ").concat(s>=12?"PM":"AM")};function sY(e){let{isOpen:s,onClose:a,onSave:r,editingStaff:i=null}=e,[n,d]=(0,l.useState)(sZ),[c,o]=(0,l.useState)({}),[m,f]=(0,l.useState)("personal"),[v,b]=(0,l.useState)(!1),y=["personal","professional","availability","location"];(0,l.useEffect)(()=>{if(i){var e,s,a,t,l,r,n,c,m,x,h,u,p,g,j,v,b,N,y,w,_,A,S,C,T,k,E,D,R,I,P,z,M,F,O,B,L,q,V,U,Z,J,G,Y,W,H;d({...sZ,...i,mondayAvailable:(null===(s=i.availability)||void 0===s?void 0:null===(e=s.monday)||void 0===e?void 0:e.available)||!1,mondayStart:(null===(t=i.availability)||void 0===t?void 0:null===(a=t.monday)||void 0===a?void 0:a.start)||"",mondayEnd:(null===(r=i.availability)||void 0===r?void 0:null===(l=r.monday)||void 0===l?void 0:l.end)||"",tuesdayAvailable:(null===(c=i.availability)||void 0===c?void 0:null===(n=c.tuesday)||void 0===n?void 0:n.available)||!1,tuesdayStart:(null===(x=i.availability)||void 0===x?void 0:null===(m=x.tuesday)||void 0===m?void 0:m.start)||"",tuesdayEnd:(null===(u=i.availability)||void 0===u?void 0:null===(h=u.tuesday)||void 0===h?void 0:h.end)||"",wednesdayAvailable:(null===(g=i.availability)||void 0===g?void 0:null===(p=g.wednesday)||void 0===p?void 0:p.available)||!1,wednesdayStart:(null===(v=i.availability)||void 0===v?void 0:null===(j=v.wednesday)||void 0===j?void 0:j.start)||"",wednesdayEnd:(null===(N=i.availability)||void 0===N?void 0:null===(b=N.wednesday)||void 0===b?void 0:b.end)||"",thursdayAvailable:(null===(w=i.availability)||void 0===w?void 0:null===(y=w.thursday)||void 0===y?void 0:y.available)||!1,thursdayStart:(null===(A=i.availability)||void 0===A?void 0:null===(_=A.thursday)||void 0===_?void 0:_.start)||"",thursdayEnd:(null===(C=i.availability)||void 0===C?void 0:null===(S=C.thursday)||void 0===S?void 0:S.end)||"",fridayAvailable:(null===(k=i.availability)||void 0===k?void 0:null===(T=k.friday)||void 0===T?void 0:T.available)||!1,fridayStart:(null===(D=i.availability)||void 0===D?void 0:null===(E=D.friday)||void 0===E?void 0:E.start)||"",fridayEnd:(null===(I=i.availability)||void 0===I?void 0:null===(R=I.friday)||void 0===R?void 0:R.end)||"",saturdayAvailable:(null===(z=i.availability)||void 0===z?void 0:null===(P=z.saturday)||void 0===P?void 0:P.available)||!1,saturdayStart:(null===(F=i.availability)||void 0===F?void 0:null===(M=F.saturday)||void 0===M?void 0:M.start)||"",saturdayEnd:(null===(B=i.availability)||void 0===B?void 0:null===(O=B.saturday)||void 0===O?void 0:O.end)||"",sundayAvailable:(null===(q=i.availability)||void 0===q?void 0:null===(L=q.sunday)||void 0===L?void 0:L.available)||!1,sundayStart:(null===(U=i.availability)||void 0===U?void 0:null===(V=U.sunday)||void 0===V?void 0:V.start)||"",sundayEnd:(null===(J=i.availability)||void 0===J?void 0:null===(Z=J.sunday)||void 0===Z?void 0:Z.end)||"",homeVisits:(null===(G=i.locationPreferences)||void 0===G?void 0:G.homeVisits)||!1,clinic:(null===(Y=i.locationPreferences)||void 0===Y?void 0:Y.clinic)||!1,school:(null===(W=i.locationPreferences)||void 0===W?void 0:W.school)||!1,community:(null===(H=i.locationPreferences)||void 0===H?void 0:H.community)||!1})}else d(sZ);o({}),f("personal")},[i,s]);let w=(e,s)=>{d(a=>({...a,[e]:s})),c[e]&&o(s=>({...s,[e]:null}))},_=()=>{let e={monday:{available:n.mondayAvailable,start:n.mondayStart,end:n.mondayEnd},tuesday:{available:n.tuesdayAvailable,start:n.tuesdayStart,end:n.tuesdayEnd},wednesday:{available:n.wednesdayAvailable,start:n.wednesdayStart,end:n.wednesdayEnd},thursday:{available:n.thursdayAvailable,start:n.thursdayStart,end:n.thursdayEnd},friday:{available:n.fridayAvailable,start:n.fridayStart,end:n.fridayEnd},saturday:{available:n.saturdayAvailable,start:n.saturdayStart,end:n.saturdayEnd},sunday:{available:n.sundayAvailable,start:n.sundayStart,end:n.sundayEnd}},s={homeVisits:n.homeVisits,clinic:n.clinic,school:n.school,community:n.community},a={...n,id:null==i?void 0:i.id,fullName:"".concat(n.firstName.trim()," ").concat(n.lastName.trim()),availability:e,locationPreferences:s};return Object.keys(sZ).forEach(e=>{(e.includes("Available")||e.includes("Start")||e.includes("End")||e.includes("Visits")||e.includes("clinic")||e.includes("school")||e.includes("community"))&&delete a[e]}),a},A=e=>{let s={},a=!1;switch(e){case"personal":n.firstName.trim()||(s.firstName="Missing Required Entry",a=!0),n.lastName.trim()||(s.lastName="Missing Required Entry",a=!0),n.email.trim()?/\S+@\S+\.\S+/.test(n.email)||(s.email="Invalid email format",a=!0):(s.email="Missing Required Entry",a=!0);break;case"professional":n.staffType.trim()||(s.staffType="Missing Required Entry",a=!0),n.certificationNumber.trim()||(s.certificationNumber="Missing Required Entry",a=!0),n.dateOfJoining.trim()||(s.dateOfJoining="Missing Required Entry",a=!0),n.status.trim()||(s.status="Missing Required Entry",a=!0);break;case"availability":["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].forEach(e=>{n["".concat(e,"Available")]&&(n["".concat(e,"Start")].trim()||(s["".concat(e,"Start")]="Missing Required Entry",a=!0),n["".concat(e,"End")].trim()||(s["".concat(e,"End")]="Missing Required Entry",a=!0),n["".concat(e,"Start")]&&n["".concat(e,"End")]&&n["".concat(e,"Start")]>=n["".concat(e,"End")]&&(s["".concat(e,"End")]="End time must be after start time",a=!0))})}return o(e=>({...e,...s})),a},S=()=>{let e=!1,s=null;return y.forEach(a=>{A(a)&&!s&&(s=a,e=!0)}),s&&f(s),e},C=async e=>{if(e.preventDefault(),b(!0),S()){b(!1);return}let s=_();console.log("Data being sent to API:",s),await r(s),b(!1)},T=()=>{d(sZ),o({}),f("personal"),a()},k=m===y[y.length-1],E=function(e,s,a,l){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:e,children:s}),(0,t.jsx)(j,{id:e,value:a,onChange:l,className:c[e]?"border-red-500 focus:border-red-500 focus:ring-red-500":"",...r}),c[e]&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c[e]})]})},D=function(e,s,a,l,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Select...";return(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:e,children:s}),(0,t.jsxs)(eZ,{value:a,onValueChange:l,children:[(0,t.jsx)(eG,{className:c[e]?"border-red-500 focus:border-red-500 focus:ring-red-500":"",children:(0,t.jsx)(eJ,{placeholder:i})}),(0,t.jsx)(eH,{children:r})]}),c[e]&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:c[e]})]})},R=(e,s)=>(0,t.jsxs)("div",{className:"flex items-center space-x-4 p-3 border border-slate-200 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 min-w-[100px]",children:[(0,t.jsx)(sU,{id:"".concat(e,"Available"),checked:n["".concat(e,"Available")],onCheckedChange:s=>w("".concat(e,"Available"),s)}),(0,t.jsx)(N,{htmlFor:"".concat(e,"Available"),className:"font-medium",children:s})]}),n["".concat(e,"Available")]&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(eZ,{value:n["".concat(e,"Start")],onValueChange:s=>w("".concat(e,"Start"),s),children:[(0,t.jsx)(eG,{className:"w-32 ".concat(c["".concat(e,"Start")]?"border-red-500":""),children:(0,t.jsx)(eJ,{placeholder:"Start Time",children:sG(n["".concat(e,"Start")])||"Start Time"})}),(0,t.jsx)(eH,{children:sJ.map(e=>(0,t.jsx)(e$,{value:e,children:sG(e)},e))})]}),c["".concat(e,"Start")]&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:c["".concat(e,"Start")]})]}),(0,t.jsx)("span",{className:"text-slate-500",children:"to"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(eZ,{value:n["".concat(e,"End")],onValueChange:s=>w("".concat(e,"End"),s),children:[(0,t.jsx)(eG,{className:"w-32 ".concat(c["".concat(e,"End")]?"border-red-500":""),children:(0,t.jsx)(eJ,{placeholder:"End Time",children:sG(n["".concat(e,"End")])||"End Time"})}),(0,t.jsx)(eH,{children:sJ.map(e=>(0,t.jsx)(e$,{value:e,children:sG(e)},e))})]}),c["".concat(e,"End")]&&(0,t.jsx)("p",{className:"text-red-500 text-xs mt-1",children:c["".concat(e,"End")]})]})]})]},e);return(0,t.jsx)(eT,{open:s,onOpenChange:T,children:(0,t.jsxs)(eD,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)(eR,{children:(0,t.jsxs)(eI,{className:"text-xl font-semibold text-slate-800",children:[i?"Edit Staff Member":"Add New Staff Member",v&&(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-500 italic",children:"Saving..."})]})}),(0,t.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[(0,t.jsxs)(eM,{value:m,onValueChange:f,className:"w-full",children:[(0,t.jsxs)(eF,{className:"grid w-full grid-cols-4",children:[(0,t.jsxs)(eO,{value:"personal",className:"flex items-center gap-2",children:[(0,t.jsx)(er.A,{className:"h-4 w-4"})," Personal"]}),(0,t.jsxs)(eO,{value:"professional",className:"flex items-center gap-2",children:[(0,t.jsx)(eu.A,{className:"h-4 w-4"})," Professional"]}),(0,t.jsxs)(eO,{value:"availability",className:"flex items-center gap-2",children:[(0,t.jsx)(ep.A,{className:"h-4 w-4"})," Availability"]}),(0,t.jsxs)(eO,{value:"location",className:"flex items-center gap-2",children:[(0,t.jsx)(ev.A,{className:"h-4 w-4"})," Location"]})]}),(0,t.jsx)(eB,{value:"personal",className:"space-y-6",children:(0,t.jsxs)(h,{children:[(0,t.jsx)(u,{children:(0,t.jsxs)(p,{className:"flex items-center gap-2",children:[(0,t.jsx)(er.A,{className:"h-5 w-5 text-teal-600"})," Personal Information"]})}),(0,t.jsxs)(g,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E("firstName","First Name *",n.firstName,e=>w("firstName",e.target.value),{placeholder:"Enter first name"}),E("lastName","Last Name *",n.lastName,e=>w("lastName",e.target.value),{placeholder:"Enter last name"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E("email","Email *",n.email,e=>w("email",e.target.value),{type:"email",placeholder:"Enter email address"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"phone",children:"Phone Number"}),(0,t.jsx)(j,{id:"phone",type:"tel",value:n.phone,onChange:e=>w("phone",e.target.value),placeholder:"Enter phone number"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"address",children:"Address"}),(0,t.jsx)(eK,{id:"address",value:n.address,onChange:e=>w("address",e.target.value),placeholder:"Enter full address",rows:2})]})]})]})}),(0,t.jsx)(eB,{value:"professional",className:"space-y-6",children:(0,t.jsxs)(h,{children:[(0,t.jsx)(u,{children:(0,t.jsxs)(p,{className:"flex items-center gap-2",children:[(0,t.jsx)(eu.A,{className:"h-5 w-5 text-teal-600"})," Professional Information"]})}),(0,t.jsxs)(g,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[D("staffType","Staff Type *",n.staffType,e=>w("staffType",e),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e$,{value:"RBT",children:"RBT (Registered Behavior Technician)"}),(0,t.jsx)(e$,{value:"BCBA",children:"BCBA (Board Certified Behavior Analyst)"}),(0,t.jsx)(e$,{value:"BCaBA",children:"BCaBA (Board Certified Assistant Behavior Analyst)"})]}),"Select staff type"),D("status","Staff Status *",n.status,e=>w("status",e),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e$,{value:"Active",children:"Active"}),(0,t.jsx)(e$,{value:"Inactive",children:"Inactive"}),(0,t.jsx)(e$,{value:"On Leave",children:"On Leave"}),(0,t.jsx)(e$,{value:"Terminated",children:"Terminated"})]}),"Select status")]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E("certificationNumber","".concat(n.staffType," Certification Number *"),n.certificationNumber,e=>w("certificationNumber",e.target.value),{placeholder:"Enter certification number"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(N,{htmlFor:"npiNumber",children:[n.staffType," NPI Number"]}),(0,t.jsx)(j,{id:"npiNumber",value:n.npiNumber,onChange:e=>w("npiNumber",e.target.value),placeholder:"Enter NPI number"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E("dateOfJoining","Date of Joining *",n.dateOfJoining,e=>w("dateOfJoining",e.target.value),{type:"date"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N,{htmlFor:"dateOfLeaving",children:"Date of Leaving"}),(0,t.jsx)(j,{id:"dateOfLeaving",type:"date",value:n.dateOfLeaving,onChange:e=>w("dateOfLeaving",e.target.value)})]})]})]})]})}),(0,t.jsx)(eB,{value:"availability",className:"space-y-6",children:(0,t.jsxs)(h,{children:[(0,t.jsx)(u,{children:(0,t.jsxs)(p,{className:"flex items-center gap-2",children:[(0,t.jsx)(ep.A,{className:"h-5 w-5 text-teal-600"})," Timing Availability"]})}),(0,t.jsxs)(g,{className:"space-y-3",children:[R("monday","Monday"),R("tuesday","Tuesday"),R("wednesday","Wednesday"),R("thursday","Thursday"),R("friday","Friday"),R("saturday","Saturday"),R("sunday","Sunday")]})]})}),(0,t.jsx)(eB,{value:"location",className:"space-y-6",children:(0,t.jsxs)(h,{children:[(0,t.jsx)(u,{children:(0,t.jsxs)(p,{className:"flex items-center gap-2",children:[(0,t.jsx)(ev.A,{className:"h-5 w-5 text-teal-600"})," Location Preferences"]})}),(0,t.jsx)(g,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(sU,{id:"homeVisits",checked:n.homeVisits,onCheckedChange:e=>w("homeVisits",e)}),(0,t.jsx)(N,{htmlFor:"homeVisits",children:"Home Visits"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(sU,{id:"clinic",checked:n.clinic,onCheckedChange:e=>w("clinic",e)}),(0,t.jsx)(N,{htmlFor:"clinic",children:"Clinic"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(sU,{id:"school",checked:n.school,onCheckedChange:e=>w("school",e)}),(0,t.jsx)(N,{htmlFor:"school",children:"School"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(sU,{id:"community",checked:n.community,onCheckedChange:e=>w("community",e)}),(0,t.jsx)(N,{htmlFor:"community",children:"Community"})]})]})})]})})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t",children:[(0,t.jsx)(x,{type:"button",variant:"outline",onClick:T,children:"Cancel"}),(0,t.jsx)(x,{type:"submit",className:"bg-teal-600 hover:bg-teal-700",children:i?"Update Staff":"Add Staff"}),!k&&(0,t.jsx)(x,{type:"button",onClick:e=>{if(e.preventDefault(),A(m))return;let s=y.indexOf(m);s<y.length-1?f(y[s+1]):C(e)},className:"bg-teal-600 hover:bg-teal-700",children:"Next"})]})]})]})})}let sW="".concat("https://www.mahabehavioralhealth.com/mahaverse-backend-test","/staff.php");function sH(){let[e,s]=(0,l.useState)(""),[a,i]=(0,l.useState)("all"),[n,d]=(0,l.useState)("all"),[c,o]=(0,l.useState)(!1),[m,f]=(0,l.useState)(!1),[v,b]=(0,l.useState)(null),[N,_]=(0,l.useState)([]),[S,C]=(0,l.useState)(!0),[T,k]=(0,l.useState)(null),E=N.filter(e=>!e.archived).length,D=N.filter(e=>e.archived).length,R=(0,l.useCallback)(async()=>{C(!0);try{let e=await fetch("".concat(sW,"?showArchived=").concat(c));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let s=await e.json();s.success?_(s.staff_records):r.Ay.error("Failed to fetch staff: ".concat(s.message))}catch(e){console.error("Error fetching staff:",e),r.Ay.error("Failed to load staff data.")}finally{C(!1)}},[c]);(0,l.useEffect)(()=>{R()},[R]);let I=N.filter(s=>{let t=s.fullName.toLowerCase().includes(e.toLowerCase())||s.id.toLowerCase().includes(e.toLowerCase())||s.certificationNumber.toLowerCase().includes(e.toLowerCase()),l="all"===a||s.status===a,r="all"===n||s.staffType===n;return t&&l&&r}),P=async e=>{try{let s=await fetch(sW,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();a.success?(r.Ay.success("Staff added successfully!"),R()):r.Ay.error("Failed to add staff: ".concat(a.message))}catch(e){console.error("Error adding staff:",e),r.Ay.error("Failed to add staff member.")}},z=async e=>{try{let s=await fetch(sW,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await s.json();a.success?(r.Ay.success("Staff updated successfully!"),R()):r.Ay.error("Failed to update staff: ".concat(a.message))}catch(e){console.error("Error updating staff:",e),r.Ay.error("Failed to update staff member.")}finally{b(null)}},M=e=>{var s,a;b({...e,firstName:e.firstName||"",lastName:e.lastName||"",staffType:e.staffType||"RBT",certificationNumber:e.certificationNumber||"",npiNumber:e.npiNumber||"",address:e.address||"",email:e.email||"",phone:e.phone||"",dateOfJoining:(null===(s=e.dateOfJoining)||void 0===s?void 0:s.slice(0,10))||"",dateOfLeaving:(null===(a=e.dateOfLeaving)||void 0===a?void 0:a.slice(0,10))||"",status:e.status||"Active",availability:e.availability||{},locationPreferences:e.locationPreferences||{}}),f(!0)},F=async e=>{let s=N.find(s=>s.id===e);if(!s){r.Ay.error("Staff member not found");return}let a=!s.archived,t=a?"archived":"restored";try{let l=await fetch(sW,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,archived:a,status:a?"Inactive":"Active"})}),i=await l.json();i.success?(r.Ay.success("Staff member ".concat(s.fullName," ").concat(t," successfully!")),R()):r.Ay.error("Failed to ".concat(t," staff: ").concat(i.message))}catch(e){console.error("Error ".concat(t," staff:"),e),r.Ay.error("Failed to ".concat(t," staff member."))}},O=e=>{switch(e){case"Active":return"bg-green-100 text-green-800";case"Inactive":default:return"bg-gray-100 text-gray-800";case"On Leave":return"bg-yellow-100 text-yellow-800";case"Terminated":return"bg-red-100 text-red-800"}},B=e=>{switch(e){case"BCBA":return"bg-blue-100 text-blue-800";case"BCaBA":return"bg-purple-100 text-purple-800";case"RBT":return"bg-teal-100 text-teal-800";default:return"bg-gray-100 text-gray-800"}},L=e=>{if(!e)return"N/A";let[s,a]=e.split(":").map(Number);return"".concat((s%12==0?12:s%12).toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0")," ").concat(s>=12?"PM":"AM")},q=e=>{k(s=>s===e?null:e)};return(0,t.jsxs)("div",{className:"space-y-8 px-2 sm:px-0 md:px-6",children:[(0,t.jsx)(r.l$,{}),(0,t.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row lg:justify-between sm:justify-center sm:items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-slate-800",children:"Staff Management"}),(0,t.jsx)("p",{className:"text-slate-600 mt-1",children:"Manage staff profiles and information"})]}),(0,t.jsxs)("div",{className:"flex flex-row flex-wrap gap-2 sm:items-center sm:space-x-3 sm:justify-end",children:[(0,t.jsx)(x,{variant:"outline",size:"sm",onClick:()=>o(!c),className:"border-slate-300",children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sp.A,{className:"h-4 w-4 mr-2"})," Show Active (",E,")"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sf.A,{className:"h-4 w-4 mr-2"})," Show Archived (",D,")"]})}),(0,t.jsxs)(x,{onClick:()=>f(!0),size:"sm",className:"bg-teal-600 hover:bg-teal-700 shadow-lg",children:[(0,t.jsx)(eS.A,{className:"h-4 w-4 mr-2"})," Add Staff"]})]})]}),(0,t.jsx)(h,{className:"shadow-lg border-0",children:(0,t.jsx)(g,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:space-x-4",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(A.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,t.jsx)(j,{placeholder:"Search by name, staff ID, or certification number...",className:"pl-10 border-slate-200 focus:border-teal-500 focus:ring-teal-500",value:e,onChange:e=>s(e.target.value)})]}),(0,t.jsxs)(eZ,{value:n,onValueChange:d,children:[(0,t.jsx)(eG,{className:"w-full sm:w-48 border-slate-200",children:(0,t.jsx)(eJ,{placeholder:"Filter by type"})}),(0,t.jsxs)(eH,{children:[(0,t.jsx)(e$,{value:"all",children:"All Types"}),(0,t.jsx)(e$,{value:"BCBA",children:"BCBA"}),(0,t.jsx)(e$,{value:"BCaBA",children:"BCaBA"}),(0,t.jsx)(e$,{value:"RBT",children:"RBT"})]})]}),(0,t.jsxs)(eZ,{value:a,onValueChange:i,children:[(0,t.jsx)(eG,{className:"w-full sm:w-48 border-slate-200",children:(0,t.jsx)(eJ,{placeholder:"Filter by status"})}),(0,t.jsxs)(eH,{children:[(0,t.jsx)(e$,{value:"all",children:"All Statuses"}),(0,t.jsx)(e$,{value:"Active",children:"Active"}),(0,t.jsx)(e$,{value:"Inactive",children:"Inactive"}),(0,t.jsx)(e$,{value:"On Leave",children:"On Leave"}),(0,t.jsx)(e$,{value:"Terminated",children:"Terminated"})]})]})]})})}),S?(0,t.jsxs)("div",{className:"h-64 w-64 mx-auto",children:[(0,t.jsx)("p",{className:"text-center animate-pulse text-gray-500",children:"Fetching staff"}),(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200",children:[(0,t.jsxs)("radialGradient",{id:"a8",cx:".66",fx:".66",cy:".3125",fy:".3125",gradientTransform:"scale(1.5)",children:[(0,t.jsx)("stop",{offset:"0",stopColor:"#0C30FF"}),(0,t.jsx)("stop",{offset:".3",stopColor:"#0C30FF",stopOpacity:".9"}),(0,t.jsx)("stop",{offset:".6",stopColor:"#0C30FF",stopOpacity:".6"}),(0,t.jsx)("stop",{offset:".8",stopColor:"#0C30FF",stopOpacity:".3"}),(0,t.jsx)("stop",{offset:"1",stopColor:"#0C30FF",stopOpacity:"0"})]}),(0,t.jsx)("circle",{transformOrigin:"center",fill:"none",stroke:"url(#a8)",strokeWidth:15,strokeLinecap:"round",strokeDasharray:"200 1000",strokeDashoffset:"0",cx:100,cy:100,r:70,children:(0,t.jsx)("animateTransform",{attributeName:"transform",type:"rotate",dur:"2s",values:"360;0",keyTimes:"0;1",keySplines:"0 0 1 1",calcMode:"spline",repeatCount:"indefinite"})}),(0,t.jsx)("circle",{transformOrigin:"center",fill:"none",opacity:.2,stroke:"#0C30FF",strokeWidth:15,strokeLinecap:"round",cx:100,cy:100,r:70})]})]}):(0,t.jsxs)(h,{className:"shadow-lg border-0",children:[(0,t.jsx)(u,{className:"pb-4",children:(0,t.jsxs)(p,{className:"text-slate-800 flex items-center",children:[(0,t.jsx)(er.A,{className:"h-5 w-5 mr-2 text-teal-600"}),c?"Archived":"Active"," Staff (",I.length,")"]})}),(0,t.jsx)(g,{className:"p-0",children:(0,t.jsxs)("div",{className:"overflow-auto",children:[(0,t.jsxs)(sa,{children:[(0,t.jsx)(st,{children:(0,t.jsxs)(sr,{className:"bg-slate-50 border-b",children:[(0,t.jsx)(si,{className:"font-semibold text-slate-700",children:"Staff Name"}),(0,t.jsx)(si,{className:"hidden sm:table-cell font-semibold text-slate-700",children:"Staff ID"}),(0,t.jsx)(si,{className:"hidden sm:table-cell font-semibold text-slate-700",children:"Status"}),(0,t.jsx)(si,{className:"hidden sm:table-cell font-semibold text-slate-700",children:"Contact #"}),(0,t.jsx)(si,{className:"font-semibold text-slate-700 lg:text-center text-right",children:"Actions"})]})}),(0,t.jsx)(sl,{children:I.map(e=>{let s=T===e.id;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(sr,{className:"hover:bg-slate-50 transition-colors border-b",children:[(0,t.jsx)(sn,{className:"lg:px-4 sm:px-2 py-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("span",{className:"hidden sm:inline-block",children:(0,t.jsx)("div",{className:"bg-teal-100 p-2 rounded-lg flex-shrink-0",children:(0,t.jsx)(er.A,{className:"h-4 w-4 text-teal-600"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold text-slate-800",children:e.fullName}),(0,t.jsxs)("div",{className:"lg:visible sm:hidden flex flex-wrap gap-1 mt-1",children:[(0,t.jsx)(ss,{className:B(e.staffType),children:e.staffType}),(0,t.jsx)(ss,{className:O(e.status),children:e.status}),e.archived&&(0,t.jsx)(ss,{variant:"outline",className:"border-amber-300 text-amber-700 text-xs",children:"Archived"})]})]})]})}),(0,t.jsx)(sn,{className:"py-4 hidden sm:table-cell",children:(0,t.jsx)("span",{className:"font-mono text-sm",children:e.id})}),(0,t.jsx)(sn,{className:"hidden sm:table-cell py-4",children:(0,t.jsx)(ss,{className:O(e.status),children:e.status})}),(0,t.jsx)(sn,{className:"hidden sm:table-cell py-4",children:(0,t.jsx)("div",{className:"text-sm",children:e.phone&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(sg.A,{className:"h-3 w-3 text-slate-400"}),e.phone]})})}),(0,t.jsx)(sn,{className:"py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(x,{variant:"outline",size:"sm",onClick:()=>q(e.id||""),className:"border-slate-300",children:s?(0,t.jsx)("span",{title:"Hide",children:(0,t.jsx)(y.A,{className:"h-3 w-3 mr-1"})}):(0,t.jsx)("span",{title:"View",children:(0,t.jsx)(w.A,{className:"h-3 w-3 mr-1"})})}),(0,t.jsx)(x,{variant:"outline",size:"sm",onClick:()=>M(e),className:"border-slate-300",children:(0,t.jsx)("span",{title:"Edit",children:(0,t.jsx)(eC.A,{className:"h-4 w-4 mr-2"})})}),(0,t.jsxs)(so,{children:[(0,t.jsx)(sm,{asChild:!0,children:(0,t.jsx)(x,{title:"Options",variant:"outline",size:"sm",className:"border-slate-300 bg-transparent",children:(0,t.jsx)(sj.A,{className:"h-3 w-3"})})}),(0,t.jsxs)(sx,{align:"end",className:"w-48",children:[(0,t.jsxs)(sh,{children:[(0,t.jsx)(en.A,{className:"h-4 w-4 mr-2"})," Schedule"]}),(0,t.jsx)(su,{}),(0,t.jsx)(sh,{onClick:()=>F(e.id||""),className:e.archived?"text-green-600":"text-amber-600",children:e.archived?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sp.A,{className:"h-4 w-4 mr-2"})," Restore Staff"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(sf.A,{className:"h-4 w-4 mr-2"})," Archive Staff"]})})]})]})]})})]},e.id),s&&(0,t.jsx)(sr,{className:"bg-slate-50",children:(0,t.jsx)(sn,{colSpan:5,className:"px-6 py-6",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(h,{className:"border-slate-200",children:[(0,t.jsx)(u,{className:"pb-3",children:(0,t.jsxs)(p,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(er.A,{className:"h-4 w-4 text-teal-600"})," Personal Information"]})}),(0,t.jsxs)(g,{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"First Name"}),(0,t.jsx)("p",{className:"font-medium",children:e.firstName||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Last Name"}),(0,t.jsx)("p",{className:"font-medium",children:e.lastName||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Email"}),(0,t.jsx)("p",{className:"font-medium",children:e.email||"N/A"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Phone"}),(0,t.jsx)("p",{className:"font-medium",children:e.phone||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Date of Joining"}),(0,t.jsx)("p",{className:"font-medium",children:e.dateOfJoining?new Date(e.dateOfJoining).toLocaleDateString():"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Date of Leaving"}),(0,t.jsx)("p",{className:"font-medium",children:e.dateOfLeaving?new Date(e.dateOfLeaving).toLocaleDateString():"N/A"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Address"}),(0,t.jsx)("p",{className:"font-medium",children:e.address||"N/A"})]})]})]}),(0,t.jsxs)(h,{className:"border-slate-200",children:[(0,t.jsx)(u,{className:"pb-3",children:(0,t.jsxs)(p,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(er.A,{className:"h-4 w-4 text-teal-600"})," Professional Information"]})}),(0,t.jsxs)(g,{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Staff Type"}),(0,t.jsx)("p",{className:"font-medium",children:e.staffType||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Certification #"}),(0,t.jsx)("p",{className:"font-medium",children:e.certificationNumber||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"NPI Number"}),(0,t.jsx)("p",{className:"font-medium",children:e.npiNumber||"N/A"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-slate-500 mb-1",children:"Status"}),(0,t.jsx)("p",{className:"font-medium",children:e.status||"N/A"})]})]})]}),(0,t.jsxs)(h,{className:"border-slate-200",children:[(0,t.jsx)(u,{className:"pb-3",children:(0,t.jsxs)(p,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(ep.A,{className:"h-4 w-4 mr-1"})," Timing Availability"]})}),(0,t.jsxs)(g,{className:"space-y-3 text-sm",children:[Object.entries(e.availability||{}).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("p",{className:"text-slate-500 font-medium capitalize",children:s}),(0,t.jsx)("p",{className:"font-medium",children:a.available?"".concat(L(a.start)," - ").concat(L(a.end)):"Not Available"})]},s)}),0===Object.keys(e.availability||{}).length&&(0,t.jsx)("p",{className:"text-slate-500 italic",children:"No availability information."})]})]}),(0,t.jsxs)(h,{className:"border-slate-200",children:[(0,t.jsx)(u,{className:"pb-3",children:(0,t.jsxs)(p,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(ev.A,{className:"h-4 w-4 mr-1"})," Location Preferences"]})}),(0,t.jsx)(g,{className:"space-y-3 text-sm",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[Object.entries(e.locationPreferences||{}).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"text-slate-500 capitalize",children:[s,":"]}),(0,t.jsx)(ss,{variant:"outline",className:a?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:a?"Preferred":"Not Preferred"})]},s)}),0===Object.keys(e.locationPreferences||{}).length&&(0,t.jsx)("p",{className:"text-slate-500 italic",children:"No location preferences."})]})})]})]})})})]})})})]}),0===I.length&&!S&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(er.A,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-slate-500",children:c?"No archived staff found.":"No staff found matching your criteria."})]})]})})]}),(0,t.jsx)(sY,{isOpen:m,onClose:()=>{f(!1),b(null)},onSave:v?z:P,editingStaff:v})]})}var s$=a(3783),sK=a(5670),sQ=a(576),sX=a(381),s0=a(4835);let s1={src:"/_next/static/media/favicon.58c2322e.ico",height:329,width:329,blurWidth:0,blurHeight:0};var s2=a(6766);function s5(e){let{userRole:s,currentView:a,setCurrentView:r,onLogout:i}=e,[n,d]=(0,l.useState)(!1),c=(0,l.useRef)(0);(0,l.useEffect)(()=>{let e=()=>{if(window.innerWidth>768)return;let e=window.scrollY;e<c.current?d(!1):e>c.current&&d(!0),c.current=e};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]);let o=e=>{r(e),d(!0)};return(0,t.jsxs)(Y,{collapsible:"icon",collapsed:n,onCollapseChange:d,className:"shadow-xl border-r border-slate-200 bg-white",children:[(0,t.jsx)($,{className:"bg-slate-50",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"".concat((()=>{switch(s.role){case"admin":default:return"bg-teal-600";case"bcba":return"bg-blue-600";case"rbt":return"bg-indigo-600";case"parent":return"bg-emerald-600"}})()," p-0.5 rounded-full shadow-md"),children:(0,t.jsx)(s2.default,{src:s1,className:"h-16 w-16 rounded-full",alt:"logo"})}),(0,t.jsx)("span",{className:"text-xl font-bold text-slate-800 group-data-[state=collapsed]/sidebar-wrapper:hidden",children:"Mahaverse"})]})}),(0,t.jsx)(Q,{children:(0,t.jsx)(X,{children:(0,t.jsx)(ee,{children:(()=>{let e=[{id:"dashboard",label:"Dashboard",icon:s$.A,color:"text-teal-600"},{id:"scheduling",label:"Scheduling",icon:en.A,color:"text-blue-600"},{id:"clients",label:"Clients",icon:er.A,color:"text-indigo-600"},{id:"sessions",label:"Sessions",icon:eu.A,color:"text-purple-600"}];return(("admin"===s.role||"bcba"===s.role)&&e.push({id:"staff",label:"Staff",icon:sK.A,color:"text-orange-600"},{id:"billing",label:"Billing",icon:ei.A,color:"text-emerald-600"}),"parent"===s.role)?[{id:"dashboard",label:"Dashboard",icon:s$.A,color:"text-teal-600"},{id:"portal",label:"My Child",icon:sQ.A,color:"text-pink-600"},{id:"billing",label:"Billing",icon:ei.A,color:"text-emerald-600"}]:e})().map(e=>{let s=e.icon,l=a===e.id;return(0,t.jsx)(es,{children:(0,t.jsx)(et,{asChild:!0,isActive:l,tooltip:e.label,children:(0,t.jsxs)("a",{href:"#",onClick:s=>{s.preventDefault(),o(e.id)},className:"flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ".concat(l?"bg-teal-50 text-teal-700":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"),children:[(0,t.jsx)(s,{className:"h-5 w-5 ".concat(l?"text-teal-600":e.color)}),(0,t.jsx)("span",{className:"group-data-[state=collapsed]/sidebar-wrapper:hidden",children:e.label})]})})},e.id)})})})}),(0,t.jsx)(K,{children:(0,t.jsxs)(ee,{children:[(0,t.jsx)(es,{children:(0,t.jsx)(et,{asChild:!0,tooltip:"Settings",children:(0,t.jsxs)("a",{href:"#",onClick:e=>{e.preventDefault(),r("settings")},className:"flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors text-slate-600 hover:bg-slate-50 hover:text-slate-900",children:[(0,t.jsx)(sX.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"group-data-[state=collapsed]/sidebar-wrapper:hidden",children:"Settings"})]})})}),(0,t.jsx)(es,{children:(0,t.jsx)(et,{asChild:!0,tooltip:"Sign Out",children:(0,t.jsxs)("button",{onClick:e=>{e.preventDefault(),i()},className:"flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors text-slate-600 hover:bg-slate-50 hover:text-slate-900",children:[(0,t.jsx)(s0.A,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"group-data-[state=collapsed]/sidebar-wrapper:hidden",children:"Sign Out"})]})})})]})}),(0,t.jsx)(H,{})]})}function s4(e){let{userRole:s,onLogout:a}=e,[r,i]=(0,l.useState)("dashboard");return(0,t.jsxs)(G,{defaultOpen:!0,children:[(0,t.jsx)(s5,{userRole:s,currentView:r,setCurrentView:i,onLogout:a}),(0,t.jsxs)("div",{className:"w-full bg-gray-50 ",children:[(0,t.jsx)(el,{userRole:s,onLogout:a}),(0,t.jsx)("main",{className:"p-6 bg-white",children:(()=>{switch(r){case"dashboard":switch(s.role){case"admin":default:return(0,t.jsx)(eh,{});case"bcba":return(0,t.jsx)(ej,{});case"rbt":return(0,t.jsx)(eb,{});case"parent":return(0,t.jsx)(ew,{})}case"scheduling":return(0,t.jsx)(e9,{});case"clients":return(0,t.jsx)(sP,{});case"sessions":return(0,t.jsx)(sF,{});case"staff":return(0,t.jsx)(sH,{});case"billing":return(0,t.jsx)(sB,{});case"portal":return(0,t.jsx)(sq,{});default:return(0,t.jsx)(eh,{})}})()})]})]})}function s6(){let[e,s]=(0,l.useState)(!1),[a,i]=(0,l.useState)(null),[n,d]=(0,l.useState)(""),[c,o]=(0,l.useState)(""),[m,v]=(0,l.useState)(!1),[b,A]=(0,l.useState)(""),[S,C]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(()=>{let e=localStorage.getItem("aba_user"),s=localStorage.getItem("aba_token"),a=localStorage.getItem("aba_token_expiry");if(e&&s&&a){let s=new Date(a);new Date<s?i(JSON.parse(e)):(localStorage.removeItem("aba_user"),localStorage.removeItem("aba_token"),localStorage.removeItem("aba_token_expiry"))}C(!1)})()},[]);let T=async()=>{if(v(!0),A(""),!n||!c){A("Please enter both email and password"),v(!1);return}try{let e=await fetch("".concat("https://www.mahabehavioralhealth.com/mahaverse-backend-test","/login.php"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n.trim(),password:c})}),s=await e.json();e.ok&&s.success?(localStorage.setItem("aba_user",JSON.stringify(s.user)),localStorage.setItem("aba_token",s.token),localStorage.setItem("aba_token_expiry",s.expires_at),i(s.user),r.oR.success("Welcome back, ".concat(s.user.first_name,"!"))):A(s.error||"Login failed. Please try again.")}catch(e){console.error("Login error:",e),A("Network error. Please check your connection and try again.")}finally{v(!1)}};return S?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-teal-200 via-blue-200 to-indigo-200 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)("div",{className:"rounded-full bg-white shadow-lg p-4 animate-pulse",children:(0,t.jsx)(s2.default,{src:s1,className:"h-10 w-10",alt:"Maha Logo"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-slate-800",children:"Mahaverse"}),(0,t.jsx)("p",{className:"text-md font-bold text-slate-600",children:"Shining in Every Shade of\xa0the\xa0Spectrum"}),(0,t.jsx)("p",{className:"text-sm text-teal-600 font-medium",children:"Practice Management"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-slate-600",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-teal-600"}),(0,t.jsx)("span",{className:"text-sm",children:"Loading..."})]})]})}):a?(0,t.jsx)(s4,{userRole:a,onLogout:()=>{localStorage.removeItem("aba_user"),localStorage.removeItem("aba_token"),localStorage.removeItem("aba_token_expiry"),i(null),d(""),o(""),A(""),r.oR.success("Logged out successfully")}}):(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-teal-200 via-blue-200 to-indigo-200 flex items-center justify-center p-4",children:[(0,t.jsxs)("div",{className:"w-full max-w-md space-y-6",children:[(0,t.jsx)("div",{className:"text-center space-y-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)("div",{className:"rounded-full bg-white shadow-lg p-4 transition-shadow duration-700",children:(0,t.jsx)(s2.default,{src:s1,className:"h-10 w-10"})}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-slate-800",children:"Mahaverse"}),(0,t.jsx)("p",{className:"text-md font-bold text-slate-700",children:"Shining in Every Shade of\xa0the\xa0Spectrum"}),(0,t.jsx)("p",{className:"text-sm text-teal-600 font-medium",children:"Practice Management"})]})]})}),(0,t.jsxs)(h,{className:"shadow-xl border-0 bg-white/95 backdrop-blur",children:[(0,t.jsxs)(u,{className:"space-y-1 pb-6",children:[(0,t.jsx)(p,{className:"text-2xl text-center text-slate-800",children:"Welcome Back"}),(0,t.jsx)(f,{className:"text-center text-slate-600",children:"Sign in to access your dashboard"})]}),(0,t.jsxs)(g,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N,{htmlFor:"email",className:"text-slate-700 font-medium",children:"Email Address"}),(0,t.jsx)(j,{id:"email",type:"email",placeholder:"therapist@example.com",className:"h-12 border-slate-200 focus:border-teal-500 focus:ring-teal-500",value:n,onChange:e=>d(e.target.value),disabled:m})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(N,{htmlFor:"password",className:"text-slate-700 font-medium",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(j,{id:"password",type:e?"text":"password",placeholder:"Enter your password",className:"h-12 pr-12 border-slate-200 focus:border-teal-500 focus:ring-teal-500",value:c,onChange:e=>o(e.target.value),disabled:m,onKeyPress:e=>"Enter"===e.key&&T()}),(0,t.jsx)(x,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!e),disabled:m,children:e?(0,t.jsx)(y.A,{className:"h-4 w-4 text-slate-400"}):(0,t.jsx)(w.A,{className:"h-4 w-4 text-slate-400"})})]})]}),b&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:(0,t.jsx)("p",{className:"text-red-600 text-sm text-center",children:b})}),(0,t.jsx)(x,{onClick:T,disabled:m,className:"w-full h-12 bg-teal-600 hover:bg-teal-700 text-white font-medium shadow-lg disabled:opacity-50",children:m?"Signing In...":"Sign In Securely"}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)(x,{variant:"link",className:"text-sm text-teal-600 hover:text-teal-700",children:"Forgot your password?"})})]})]}),(0,t.jsxs)("div",{className:"text-center text-sm text-slate-600 space-y-1 bg-white/60 backdrop-blur rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,t.jsx)(_.A,{className:"h-4 w-4 text-teal-600"}),(0,t.jsx)("span",{className:"font-medium",children:"HIPAA Compliant & Secure"})]}),(0,t.jsx)("p",{children:"Your data is encrypted and protected with enterprise-grade security"})]})]}),(0,t.jsx)(r.l$,{})]})}},6964:(e,s,a)=>{Promise.resolve().then(a.bind(a,308))},7005:(e,s,a)=>{"use strict";a.d(s,{$3:()=>m,Ay:()=>x,ZQ:()=>n,d5:()=>r,zO:()=>i});let t=(0,a(1990).Z0)({name:"clients",initialState:{items:[],loading:!1,error:null},reducers:{setClients(e,s){e.items=s.payload},addClient(e,s){e.items.push(s.payload)},updateClient(e,s){let a=e.items.findIndex(e=>e.id===s.payload.id);-1!==a&&(e.items[a]=s.payload)},toggleArchive(e,s){let{id:a,archived:t,client_status:l}=s.payload,r=e.items.findIndex(e=>e.id===a);-1!==r&&(e.items[r].archived=t,l&&(e.items[r].client_status=l))},setClientsLoading(e,s){e.loading=s.payload},setClientsError(e,s){e.error=s.payload}}}),{setClients:l,addClient:r,updateClient:i,toggleArchive:n,setClientsLoading:d,setClientsError:c}=t.actions,o=e=>{var s;let a=Array.isArray(e.insurances)?e.insurances:[],t=Array.isArray(e.authorizations)?e.authorizations.map(e=>{let s="";a.length&&e.insurance_id&&(s=-1===(s=a.findIndex(s=>String(s.insurance_id)===String(e.insurance_id)))?"":String(s));let t=Number.parseFloat(e.units_approved_per_15_min)||0,l=Number.parseFloat(e.units_serviced)||0;return{...e,insurance_id:s,units_serviced:e.units_serviced||"",balance_units:(t-l).toString()}}):[],l=Array.isArray(e.documents)?e.documents:[];return{...e,id:e.client_id||e.id,client_id:e.client_id||e.id,first_name:e.first_name||e.firstName||"",last_name:e.last_name||e.lastName||"",date_of_birth:(null===(s=e.date_of_birth)||void 0===s?void 0:s.slice(0,10))||"",client_status:e.client_status||e.STATUS||"Active",archived:1==e.archived,insurances:a,authorizations:t,documents:l,relationship_to_insured:e.relationship_to_insured||"",relation_other:e.relation_other||"",appointment_reminder:e.appointment_reminder||""}},m=()=>async e=>{try{e(d(!0)),e(c(null));let s=await fetch("".concat("https://www.mahabehavioralhealth.com/mahaverse-backend-test","/get-clients.php"));if(!s.ok)throw Error("Failed to fetch clients");let a=await s.json();if(!a.success||!Array.isArray(a.clients))throw Error(a.message||"Failed to fetch clients");let t=a.clients.map(o);e(l(t))}catch(s){console.error("Error fetching clients:",s),e(c(s.message))}finally{e(d(!1))}},x=t.reducer}},e=>{var s=s=>e(e.s=s);e.O(0,[635,781,441,684,358],()=>s(6964)),_N_E=e.O()}]);