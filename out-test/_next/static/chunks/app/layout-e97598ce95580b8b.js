(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{109:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_e8ce0c"}},575:(e,t,i)=>{Promise.resolve().then(i.t.bind(i,9324,23)),Promise.resolve().then(i.bind(i,6809)),Promise.resolve().then(i.bind(i,9304)),Promise.resolve().then(i.t.bind(i,109,23))},6809:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});var r=i(5155),n=i(4540),a=i(1990),s=i(7005);let l=(0,a.U1)({reducer:{clients:s.Ay},devTools:!1});function o(e){let{children:t}=e;return(0,r.jsx)(n.Kq,{store:l,children:t})}},7005:(e,t,i)=>{"use strict";i.d(t,{$3:()=>u,Ay:()=>_,ZQ:()=>l,d5:()=>a,zO:()=>s});let r=(0,i(1990).Z0)({name:"clients",initialState:{items:[],loading:!1,error:null},reducers:{setClients(e,t){e.items=t.payload},addClient(e,t){e.items.push(t.payload)},updateClient(e,t){let i=e.items.findIndex(e=>e.id===t.payload.id);-1!==i&&(e.items[i]=t.payload)},toggleArchive(e,t){let{id:i,archived:r,client_status:n}=t.payload,a=e.items.findIndex(e=>e.id===i);-1!==a&&(e.items[a].archived=r,n&&(e.items[a].client_status=n))},setClientsLoading(e,t){e.loading=t.payload},setClientsError(e,t){e.error=t.payload}}}),{setClients:n,addClient:a,updateClient:s,toggleArchive:l,setClientsLoading:o,setClientsError:d}=r.actions,c=e=>{var t;let i=Array.isArray(e.insurances)?e.insurances:[],r=Array.isArray(e.authorizations)?e.authorizations.map(e=>{let t="";i.length&&e.insurance_id&&(t=-1===(t=i.findIndex(t=>String(t.insurance_id)===String(e.insurance_id)))?"":String(t));let r=Number.parseFloat(e.units_approved_per_15_min)||0,n=Number.parseFloat(e.units_serviced)||0;return{...e,insurance_id:t,units_serviced:e.units_serviced||"",balance_units:(r-n).toString()}}):[],n=Array.isArray(e.documents)?e.documents:[];return{...e,id:e.client_id||e.id,client_id:e.client_id||e.id,first_name:e.first_name||e.firstName||"",last_name:e.last_name||e.lastName||"",date_of_birth:(null===(t=e.date_of_birth)||void 0===t?void 0:t.slice(0,10))||"",client_status:e.client_status||e.STATUS||"Active",archived:1==e.archived,insurances:i,authorizations:r,documents:n,relationship_to_insured:e.relationship_to_insured||"",relation_other:e.relation_other||"",appointment_reminder:e.appointment_reminder||""}},u=()=>async e=>{try{e(o(!0)),e(d(null));let t=await fetch("".concat("https://www.mahabehavioralhealth.com/mahaverse-backend-test","/get-clients.php"));if(!t.ok)throw Error("Failed to fetch clients");let i=await t.json();if(!i.success||!Array.isArray(i.clients))throw Error(i.message||"Failed to fetch clients");let r=i.clients.map(c);e(n(r))}catch(t){console.error("Error fetching clients:",t),e(d(t.message))}finally{e(o(!1))}},_=r.reducer},9304:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ThemeProvider:()=>n});var r=i(5155);function n(e){let{children:t}=e;return(0,r.jsx)(r.Fragment,{children:t})}},9324:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[316,635,441,684,358],()=>t(575)),_N_E=e.O()}]);